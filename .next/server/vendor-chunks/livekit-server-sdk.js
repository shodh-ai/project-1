"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/livekit-server-sdk";
exports.ids = ["vendor-chunks/livekit-server-sdk"];
exports.modules = {

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js":
/*!*************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/AccessToken.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessToken: () => (/* binding */ AccessToken),\n/* harmony export */   TokenVerifier: () => (/* binding */ TokenVerifier)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/node/esm/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/node/esm/jwt/verify.js\");\n/* harmony import */ var _grants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grants.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/grants.js\");\n\n\nconst defaultTTL = `6h`;\nconst defaultClockToleranceSeconds = 10;\nclass AccessToken {\n    /**\n   * Creates a new AccessToken\n   * @param apiKey - API Key, can be set in env LIVEKIT_API_KEY\n   * @param apiSecret - Secret, can be set in env LIVEKIT_API_SECRET\n   */ constructor(apiKey, apiSecret, options){\n        if (!apiKey) {\n            apiKey = process.env.LIVEKIT_API_KEY;\n        }\n        if (!apiSecret) {\n            apiSecret = process.env.LIVEKIT_API_SECRET;\n        }\n        if (!apiKey || !apiSecret) {\n            throw Error(\"api-key and api-secret must be set\");\n        } else if (typeof document !== \"undefined\") {\n            console.error(\"You should not include your API secret in your web client bundle.\\n\\nYour web client should request a token from your backend server which should then use the API secret to generate a token. See https://docs.livekit.io/client/connect/\");\n        }\n        this.apiKey = apiKey;\n        this.apiSecret = apiSecret;\n        this.grants = {};\n        this.identity = options == null ? void 0 : options.identity;\n        this.ttl = (options == null ? void 0 : options.ttl) || defaultTTL;\n        if (typeof this.ttl === \"number\") {\n            this.ttl = `${this.ttl}s`;\n        }\n        if (options == null ? void 0 : options.metadata) {\n            this.metadata = options.metadata;\n        }\n        if (options == null ? void 0 : options.attributes) {\n            this.attributes = options.attributes;\n        }\n        if (options == null ? void 0 : options.name) {\n            this.name = options.name;\n        }\n    }\n    /**\n   * Adds a video grant to this token.\n   * @param grant -\n   */ addGrant(grant) {\n        this.grants.video = {\n            ...this.grants.video ?? {},\n            ...grant\n        };\n    }\n    /**\n   * Adds a SIP grant to this token.\n   * @param grant -\n   */ addSIPGrant(grant) {\n        this.grants.sip = {\n            ...this.grants.sip ?? {},\n            ...grant\n        };\n    }\n    get name() {\n        return this.grants.name;\n    }\n    set name(name) {\n        this.grants.name = name;\n    }\n    get metadata() {\n        return this.grants.metadata;\n    }\n    /**\n   * Set metadata to be passed to the Participant, used only when joining the room\n   */ set metadata(md) {\n        this.grants.metadata = md;\n    }\n    get attributes() {\n        return this.grants.attributes;\n    }\n    set attributes(attrs) {\n        this.grants.attributes = attrs;\n    }\n    get kind() {\n        return this.grants.kind;\n    }\n    set kind(kind) {\n        this.grants.kind = kind;\n    }\n    get sha256() {\n        return this.grants.sha256;\n    }\n    set sha256(sha) {\n        this.grants.sha256 = sha;\n    }\n    get roomPreset() {\n        return this.grants.roomPreset;\n    }\n    set roomPreset(preset) {\n        this.grants.roomPreset = preset;\n    }\n    get roomConfig() {\n        return this.grants.roomConfig;\n    }\n    set roomConfig(config) {\n        this.grants.roomConfig = config;\n    }\n    /**\n   * @returns JWT encoded token\n   */ async toJwt() {\n        var _a;\n        const secret = new TextEncoder().encode(this.apiSecret);\n        const jwt = new jose__WEBPACK_IMPORTED_MODULE_1__.SignJWT((0,_grants_js__WEBPACK_IMPORTED_MODULE_0__.claimsToJwtPayload)(this.grants)).setProtectedHeader({\n            alg: \"HS256\"\n        }).setIssuer(this.apiKey).setExpirationTime(this.ttl).setNotBefore(0);\n        if (this.identity) {\n            jwt.setSubject(this.identity);\n        } else if ((_a = this.grants.video) == null ? void 0 : _a.roomJoin) {\n            throw Error(\"identity is required for join but not set\");\n        }\n        return jwt.sign(secret);\n    }\n}\nclass TokenVerifier {\n    constructor(apiKey, apiSecret){\n        this.apiKey = apiKey;\n        this.apiSecret = apiSecret;\n    }\n    async verify(token, clockTolerance = defaultClockToleranceSeconds) {\n        const secret = new TextEncoder().encode(this.apiSecret);\n        const { payload } = await jose__WEBPACK_IMPORTED_MODULE_2__.jwtVerify(token, secret, {\n            issuer: this.apiKey,\n            clockTolerance\n        });\n        if (!payload) {\n            throw Error(\"invalid token\");\n        }\n        return payload;\n    }\n}\n //# sourceMappingURL=AccessToken.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvQWNjZXNzVG9rZW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkI7QUFDb0I7QUFDakQsTUFBTUUsYUFBYSxDQUFDLEVBQUUsQ0FBQztBQUN2QixNQUFNQywrQkFBK0I7QUFDckMsTUFBTUM7SUFDSjs7OztHQUlDLEdBQ0RDLFlBQVlDLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxPQUFPLENBQUU7UUFDdEMsSUFBSSxDQUFDRixRQUFRO1lBQ1hBLFNBQVNHLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZTtRQUN0QztRQUNBLElBQUksQ0FBQ0osV0FBVztZQUNkQSxZQUFZRSxRQUFRQyxHQUFHLENBQUNFLGtCQUFrQjtRQUM1QztRQUNBLElBQUksQ0FBQ04sVUFBVSxDQUFDQyxXQUFXO1lBQ3pCLE1BQU1NLE1BQU07UUFDZCxPQUFPLElBQUksT0FBT0MsYUFBYSxhQUFhO1lBQzFDQyxRQUFRQyxLQUFLLENBQ1g7UUFFSjtRQUNBLElBQUksQ0FBQ1YsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUNVLE1BQU0sR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDQyxRQUFRLEdBQUdWLFdBQVcsT0FBTyxLQUFLLElBQUlBLFFBQVFVLFFBQVE7UUFDM0QsSUFBSSxDQUFDQyxHQUFHLEdBQUcsQ0FBQ1gsV0FBVyxPQUFPLEtBQUssSUFBSUEsUUFBUVcsR0FBRyxLQUFLakI7UUFDdkQsSUFBSSxPQUFPLElBQUksQ0FBQ2lCLEdBQUcsS0FBSyxVQUFVO1lBQ2hDLElBQUksQ0FBQ0EsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUNBLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0I7UUFDQSxJQUFJWCxXQUFXLE9BQU8sS0FBSyxJQUFJQSxRQUFRWSxRQUFRLEVBQUU7WUFDL0MsSUFBSSxDQUFDQSxRQUFRLEdBQUdaLFFBQVFZLFFBQVE7UUFDbEM7UUFDQSxJ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LElBQUksQ0FBQ3JCLE1BQU0sQ0FBQ1EsS0FBSyxLQUFLLE9BQU8sS0FBSyxJQUFJYSxHQUFHWSxRQUFRLEVBQUU7WUFDbEUsTUFBTXJDLE1BQU07UUFDZDtRQUNBLE9BQU82QixJQUFJUyxJQUFJLENBQUNaO0lBQ2xCO0FBQ0Y7QUFDQSxNQUFNYTtJQUNKL0MsWUFBWUMsTUFBTSxFQUFFQyxTQUFTLENBQUU7UUFDN0IsSUFBSSxDQUFDRCxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxTQUFTLEdBQUdBO0lBQ25CO0lBQ0EsTUFBTThDLE9BQU9DLEtBQUssRUFBRUMsaUJBQWlCcEQsNEJBQTRCLEVBQUU7UUFDakUsTUFBTW9DLFNBQVMsSUFBSUMsY0FBY0MsTUFBTSxDQUFDLElBQUksQ0FBQ2xDLFNBQVM7UUFDdEQsTUFBTSxFQUFFaUQsT0FBTyxFQUFFLEdBQUcsTUFBTXhELDJDQUFjLENBQUNzRCxPQUFPZixRQUFRO1lBQ3REbUIsUUFBUSxJQUFJLENBQUNwRCxNQUFNO1lBQ25CaUQ7UUFDRjtRQUNBLElBQUksQ0FBQ0MsU0FBUztZQUNaLE1BQU0zQyxNQUFNO1FBQ2Q7UUFDQSxPQUFPMkM7SUFDVDtBQUNGO0FBSUUsQ0FDRix1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmltYS1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L0FjY2Vzc1Rva2VuLmpzP2ZiOTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgam9zZSBmcm9tIFwiam9zZVwiO1xuaW1wb3J0IHsgY2xhaW1zVG9Kd3RQYXlsb2FkIH0gZnJvbSBcIi4vZ3JhbnRzLmpzXCI7XG5jb25zdCBkZWZhdWx0VFRMID0gYDZoYDtcbmNvbnN0IGRlZmF1bHRDbG9ja1RvbGVyYW5jZVNlY29uZHMgPSAxMDtcbmNsYXNzIEFjY2Vzc1Rva2VuIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQWNjZXNzVG9rZW5cbiAgICogQHBhcmFtIGFwaUtleSAtIEFQSSBLZXksIGNhbiBiZSBzZXQgaW4gZW52IExJVkVLSVRfQVBJX0tFWVxuICAgKiBAcGFyYW0gYXBpU2VjcmV0IC0gU2VjcmV0LCBjYW4gYmUgc2V0IGluIGVudiBMSVZFS0lUX0FQSV9TRUNSRVRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFwaUtleSwgYXBpU2VjcmV0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFhcGlLZXkpIHtcbiAgICAgIGFwaUtleSA9IHByb2Nlc3MuZW52LkxJVkVLSVRfQVBJX0tFWTtcbiAgICB9XG4gICAgaWYgKCFhcGlTZWNyZXQpIHtcbiAgICAgIGFwaVNlY3JldCA9IHByb2Nlc3MuZW52LkxJVkVLSVRfQVBJX1NFQ1JFVDtcbiAgICB9XG4gICAgaWYgKCFhcGlLZXkgfHwgIWFwaVNlY3JldCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJhcGkta2V5IGFuZCBhcGktc2VjcmV0IG11c3QgYmUgc2V0XCIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgeW91ciBBUEkgc2VjcmV0IGluIHlvdXIgd2ViIGNsaWVudCBidW5kbGUuXFxuXFxuWW91ciB3ZWIgY2xpZW50IHNob3VsZCByZXF1ZXN0IGEgdG9rZW4gZnJvbSB5b3VyIGJhY2tlbmQgc2VydmVyIHdoaWNoIHNob3VsZCB0aGVuIHVzZSB0aGUgQVBJIHNlY3JldCB0byBnZW5lcmF0ZSBhIHRva2VuLiBTZWUgaHR0cHM6Ly9kb2NzLmxpdmVraXQuaW8vY2xpZW50L2Nvbm5lY3QvXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgIHRoaXMuYXBpU2VjcmV0ID0gYXBpU2VjcmV0O1xuICAgIHRoaXMuZ3JhbnRzID0ge307XG4gICAgdGhpcy5pZGVudGl0eSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaWRlbnRpdHk7XG4gICAgdGhpcy50dGwgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy50dGwpIHx8IGRlZmF1bHRUVEw7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnR0bCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy50dGwgPSBgJHt0aGlzLnR0bH1zYDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubWV0YWRhdGEpIHtcbiAgICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5hdHRyaWJ1dGVzKSB7XG4gICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIGlmIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm5hbWUpIHtcbiAgICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSB2aWRlbyBncmFudCB0byB0aGlzIHRva2VuLlxuICAgKiBAcGFyYW0gZ3JhbnQgLVxuICAgKi9cbiAgYWRkR3JhbnQoZ3JhbnQpIHtcbiAgICB0aGlzLmdyYW50cy52aWRlbyA9IHsgLi4udGhpcy5ncmFudHMudmlkZW8gPz8ge30sIC4uLmdyYW50IH07XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBTSVAgZ3JhbnQgdG8gdGhpcyB0b2tlbi5cbiAgICogQHBhcmFtIGdyYW50IC1cbiAgICovXG4gIGFkZFNJUEdyYW50KGdyYW50KSB7XG4gICAgdGhpcy5ncmFudHMuc2lwID0geyAuLi50aGlzLmdyYW50cy5zaXAgPz8ge30sIC4uLmdyYW50IH07XG4gIH1cbiAgZ2V0IG5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JhbnRzLm5hbWU7XG4gIH1cbiAgc2V0IG5hbWUobmFtZSkge1xuICAgIHRoaXMuZ3JhbnRzLm5hbWUgPSBuYW1lO1xuICB9XG4gIGdldCBtZXRhZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5ncmFudHMubWV0YWRhdGE7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBtZXRhZGF0YSB0byBiZSBwYXNzZWQgdG8gdGhlIFBhcnRpY2lwYW50LCB1c2VkIG9ubHkgd2hlbiBqb2luaW5nIHRoZSByb29tXG4gICAqL1xuICBzZXQgbWV0YWRhdGEobWQpIHtcbiAgICB0aGlzLmdyYW50cy5tZXRhZGF0YSA9IG1kO1xuICB9XG4gIGdldCBhdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiB0aGlzLmdyYW50cy5hdHRyaWJ1dGVzO1xuICB9XG4gIHNldCBhdHRyaWJ1dGVzKGF0dHJzKSB7XG4gICAgdGhpcy5ncmFudHMuYXR0cmlidXRlcyA9IGF0dHJzO1xuICB9XG4gIGdldCBraW5kKCkge1xuICAgIHJldHVybiB0aGlzLmdyYW50cy5raW5kO1xuICB9XG4gIHNldCBraW5kKGtpbmQpIHtcbiAgICB0aGlzLmdyYW50cy5raW5kID0ga2luZDtcbiAgfVxuICBnZXQgc2hhMjU2KCkge1xuICAgIHJldHVybiB0aGlzLmdyYW50cy5zaGEyNTY7XG4gIH1cbiAgc2V0IHNoYTI1NihzaGEpIHtcbiAgICB0aGlzLmdyYW50cy5zaGEyNTYgPSBzaGE7XG4gIH1cbiAgZ2V0IHJvb21QcmVzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JhbnRzLnJvb21QcmVzZXQ7XG4gIH1cbiAgc2V0IHJvb21QcmVzZXQocHJlc2V0KSB7XG4gICAgdGhpcy5ncmFudHMucm9vbVByZXNldCA9IHByZXNldDtcbiAgfVxuICBnZXQgcm9vbUNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5ncmFudHMucm9vbUNvbmZpZztcbiAgfVxuICBzZXQgcm9vbUNvbmZpZyhjb25maWcpIHtcbiAgICB0aGlzLmdyYW50cy5yb29tQ29uZmlnID0gY29uZmlnO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyBKV1QgZW5jb2RlZCB0b2tlblxuICAgKi9cbiAgYXN5bmMgdG9Kd3QoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHNlY3JldCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0aGlzLmFwaVNlY3JldCk7XG4gICAgY29uc3Qgand0ID0gbmV3IGpvc2UuU2lnbkpXVChjbGFpbXNUb0p3dFBheWxvYWQodGhpcy5ncmFudHMpKS5zZXRQcm90ZWN0ZWRIZWFkZXIoeyBhbGc6IFwiSFMyNTZcIiB9KS5zZXRJc3N1ZXIodGhpcy5hcGlLZXkpLnNldEV4cGlyYXRpb25UaW1lKHRoaXMudHRsKS5zZXROb3RCZWZvcmUoMCk7XG4gICAgaWYgKHRoaXMuaWRlbnRpdHkpIHtcbiAgICAgIGp3dC5zZXRTdWJqZWN0KHRoaXMuaWRlbnRpdHkpO1xuICAgIH0gZWxzZSBpZiAoKF9hID0gdGhpcy5ncmFudHMudmlkZW8pID09IG51bGwgPyB2b2lkIDAgOiBfYS5yb29tSm9pbikge1xuICAgICAgdGhyb3cgRXJyb3IoXCJpZGVudGl0eSBpcyByZXF1aXJlZCBmb3Igam9pbiBidXQgbm90IHNldFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGp3dC5zaWduKHNlY3JldCk7XG4gIH1cbn1cbmNsYXNzIFRva2VuVmVyaWZpZXIge1xuICBjb25zdHJ1Y3RvcihhcGlLZXksIGFwaVNlY3JldCkge1xuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgIHRoaXMuYXBpU2VjcmV0ID0gYXBpU2VjcmV0O1xuICB9XG4gIGFzeW5jIHZlcmlmeSh0b2tlbiwgY2xvY2tUb2xlcmFuY2UgPSBkZWZhdWx0Q2xvY2tUb2xlcmFuY2VTZWNvbmRzKSB7XG4gICAgY29uc3Qgc2VjcmV0ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHRoaXMuYXBpU2VjcmV0KTtcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IGF3YWl0IGpvc2Uuand0VmVyaWZ5KHRva2VuLCBzZWNyZXQsIHtcbiAgICAgIGlzc3VlcjogdGhpcy5hcGlLZXksXG4gICAgICBjbG9ja1RvbGVyYW5jZVxuICAgIH0pO1xuICAgIGlmICghcGF5bG9hZCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJpbnZhbGlkIHRva2VuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bG9hZDtcbiAgfVxufVxuZXhwb3J0IHtcbiAgQWNjZXNzVG9rZW4sXG4gIFRva2VuVmVyaWZpZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BY2Nlc3NUb2tlbi5qcy5tYXAiXSwibmFtZXMiOlsiam9zZSIsImNsYWltc1RvSnd0UGF5bG9hZCIsImRlZmF1bHRUVEwiLCJkZWZhdWx0Q2xvY2tUb2xlcmFuY2VTZWNvbmRzIiwiQWNjZXNzVG9rZW4iLCJjb25zdHJ1Y3RvciIsImFwaUtleSIsImFwaVNlY3JldCIsIm9wdGlvbnMiLCJwcm9jZXNzIiwiZW52IiwiTElWRUtJVF9BUElfS0VZIiwiTElWRUtJVF9BUElfU0VDUkVUIiwiRXJyb3IiLCJkb2N1bWVudCIsImNvbnNvbGUiLCJlcnJvciIsImdyYW50cyIsImlkZW50aXR5IiwidHRsIiwibWV0YWRhdGEiLCJhdHRyaWJ1dGVzIiwibmFtZSIsImFkZEdyYW50IiwiZ3JhbnQiLCJ2aWRlbyIsImFkZFNJUEdyYW50Iiwic2lwIiwibWQiLCJhdHRycyIsImtpbmQiLCJzaGEyNTYiLCJzaGEiLCJyb29tUHJlc2V0IiwicHJlc2V0Iiwicm9vbUNvbmZpZyIsImNvbmZpZyIsInRvSnd0IiwiX2EiLCJzZWNyZXQiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImp3dCIsIlNpZ25KV1QiLCJzZXRQcm90ZWN0ZWRIZWFkZXIiLCJhbGciLCJzZXRJc3N1ZXIiLCJzZXRFeHBpcmF0aW9uVGltZSIsInNldE5vdEJlZm9yZSIsInNldFN1YmplY3QiLCJyb29tSm9pbiIsInNpZ24iLCJUb2tlblZlcmlmaWVyIiwidmVyaWZ5IiwidG9rZW4iLCJjbG9ja1RvbGVyYW5jZSIsInBheWxvYWQiLCJqd3RWZXJpZnkiLCJpc3N1ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/AgentDispatchClient.js":
/*!*********************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/AgentDispatchClient.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AgentDispatchClient: () => (/* binding */ AgentDispatchClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\nconst svc = \"AgentDispatchService\";\nclass AgentDispatchClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n   * Create an explicit dispatch for an agent to join a room. To use explicit\n   * dispatch, your agent must be registered with an `agentName`.\n   * @param roomName - name of the room to dispatch to\n   * @param agentName - name of the agent to dispatch\n   * @param options - optional metadata to send along with the dispatch\n   * @returns the dispatch that was created\n   */ async createDispatch(roomName, agentName, options) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateAgentDispatchRequest({\n            room: roomName,\n            agentName,\n            metadata: options == null ? void 0 : options.metadata\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateDispatch\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AgentDispatch.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * Delete an explicit dispatch for an agent in a room.\n   * @param dispatchId - id of the dispatch to delete\n   * @param roomName - name of the room the dispatch is for\n   */ async deleteDispatch(dispatchId, roomName) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteAgentDispatchRequest({\n            dispatchId,\n            room: roomName\n        }).toJson();\n        await this.rpc.request(svc, \"DeleteDispatch\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }));\n    }\n    /**\n   * Get an Agent dispatch by ID\n   * @param dispatchId - id of the dispatch to get\n   * @param roomName - name of the room the dispatch is for\n   * @returns the dispatch that was found, or undefined if not found\n   */ async getDispatch(dispatchId, roomName) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListAgentDispatchRequest({\n            dispatchId,\n            room: roomName\n        }).toJson();\n        const data = await this.rpc.request(svc, \"ListDispatch\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListAgentDispatchResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        if (res.agentDispatches.length === 0) {\n            return void 0;\n        }\n        return res.agentDispatches[0];\n    }\n    /**\n   * List all agent dispatches for a room\n   * @param roomName - name of the room to list dispatches for\n   * @returns the list of dispatches\n   */ async listDispatch(roomName) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListAgentDispatchRequest({\n            room: roomName\n        }).toJson();\n        const data = await this.rpc.request(svc, \"ListDispatch\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListAgentDispatchResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        return res.agentDispatches;\n    }\n}\n //# sourceMappingURL=AgentDispatchClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvQWdlbnREaXNwYXRjaENsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBTTJCO0FBQ29CO0FBQ1U7QUFDekQsTUFBTVEsTUFBTTtBQUNaLE1BQU1DLDRCQUE0Qkosd0RBQVdBO0lBQzNDOzs7O0dBSUMsR0FDREssWUFBWUMsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sQ0FBRTtRQUNoQyxLQUFLLENBQUNELFFBQVFDO1FBQ2QsSUFBSSxDQUFDQyxHQUFHLEdBQUcsSUFBSVIsa0RBQVFBLENBQUNLLE1BQU1KLHdEQUFjQTtJQUM5QztJQUNBOzs7Ozs7O0dBT0MsR0FDRCxNQUFNUSxlQUFlQyxRQUFRLEVBQUVDLFNBQVMsRUFBRUMsT0FBTyxFQUFFO1FBQ2pELE1BQU1DLE1BQU0sSUFBSWxCLHlFQUEwQkEsQ0FBQztZQUN6Q21CLE1BQU1KO1lBQ05DO1lBQ0FJLFVBQVVILFdBQVcsT0FBTyxLQUFLLElBQUlBLFFBQVFHLFFBQVE7UUFDdkQsR0FBR0MsTUFBTTtRQUNULE1BQU1DLE9BQU8sTUFBTSxJQUFJLENBQUNULEdBQUcsQ0FBQ1UsT0FBTyxDQUNqQ2hCLEtBQ0Esa0JBQ0FXLEtBQ0EsTUFBTSxJQUFJLENBQUNNLFVBQVUsQ0FBQztZQUFFQyxXQUFXO1lBQU1OLE1BQU1KO1FBQVM7UUFFMUQsT0FBT2hCLDREQUFhQSxDQUFDMkIsUUFBUSxDQUFDSixNQUFNO1lBQUVLLHFCQUFxQjtRQUFLO0lBQ2xFO0lBQ0E7Ozs7R0FJQyxHQUNELE1BQU1DLGVBQWVDLFVBQVUsRUFBRWQsUUFBUSxFQUFFO1FBQ3pDLE1BQU1HLE1BQU0sSUFBSWpCLHlFQUEwQkEsQ0FBQztZQUN6QzRCO1lBQ0FWLE1BQU1KO1FBQ1IsR0FBR00sTUFBTTtRQUNULE1BQU0sSUFBSSxDQUFDUixHQUFHLENBQUNVLE9BQU8sQ0FDcEJoQixLQUNBLGtCQUNBVyxLQUNBLE1BQU0sSUFBSSxDQUFDTSxVQUFVLENBQUM7WUFBRUMsV0FBVztZQUFNTixNQUFNSjtRQUFTO0lBRTVEO0lBQ0E7Ozs7O0dBS0MsR0FDRCxNQUFNZSxZQUFZRCxVQUFVLEVBQUVkLFFBQVEsRUFBRTtRQUN0QyxNQUFNRyxNQUFNLElBQUloQix1RUFBd0JBLENBQUM7WUFDdkMyQjtZQUNBVixNQUFNSjtRQUNSLEdBQUdNLE1BQU07UUFDVCxNQUFNQyxPQUFPLE1BQU0sSUFBSSxDQUFDVCxHQUFHLENBQUNVLE9BQU8sQ0FDakNoQixLQUNBLGdCQUNBVyxLQUNBLE1BQU0sSUFBSSxDQUFDTSxVQUFVLENBQUM7WUFBRUMsV0FBVztZQUFNTixNQUFNSjtRQUFTO1FBRTFELE1BQU1nQixNQUFNNUIsd0VBQXlCQSxDQUFDdUIsUUFBUSxDQUFDSixNQUFNO1lBQUVLLHFCQUFxQjtRQUFLO1FBQ2pGLElBQUlJLElBQUlDLGVBQWUsQ0FBQ0MsTUFBTSxLQUFLLEdBQUc7WUFDcEMsT0FBTyxLQUFLO1FBQ2Q7UUFDQSxPQUFPRixJQUFJQyxlQUFlLENBQUMsRUFBRTtJQUMvQjtJQUNBOzs7O0dBSUMsR0FDRCxNQUFNRSxhQUFhbkIsUUFBUSxFQUFFO1FBQzNCLE1BQU1HLE1BQU0sSUFBSWhCLHVFQUF3QkEsQ0FBQztZQUN2Q2lCLE1BQU1KO1FBQ1IsR0FBR00sTUFBTTtRQUNULE1BQU1DLE9BQU8sTUFBTSxJQUFJLENBQUNULEdBQUcsQ0FBQ1UsT0FBTyxDQUNqQ2hCLEtBQ0EsZ0JBQ0FXLEtBQ0EsTUFBTSxJQUFJLENBQUNNLFVBQVUsQ0FBQztZQUFFQyxXQUFXO1lBQU1OLE1BQU1KO1FBQVM7UUFFMUQsTUFBTWdCLE1BQU01Qix3RUFBeUJBLENBQUN1QixRQUFRLENBQUNKLE1BQU07WUFBRUsscUJBQXFCO1FBQUs7UUFDakYsT0FBT0ksSUFBSUMsZUFBZTtJQUM1QjtBQUNGO0FBR0UsQ0FDRiwrQ0FBK0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmltYS1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L0FnZW50RGlzcGF0Y2hDbGllbnQuanM/ZjgxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBZ2VudERpc3BhdGNoLFxuICBDcmVhdGVBZ2VudERpc3BhdGNoUmVxdWVzdCxcbiAgRGVsZXRlQWdlbnREaXNwYXRjaFJlcXVlc3QsXG4gIExpc3RBZ2VudERpc3BhdGNoUmVxdWVzdCxcbiAgTGlzdEFnZW50RGlzcGF0Y2hSZXNwb25zZVxufSBmcm9tIFwiQGxpdmVraXQvcHJvdG9jb2xcIjtcbmltcG9ydCB7IFNlcnZpY2VCYXNlIH0gZnJvbSBcIi4vU2VydmljZUJhc2UuanNcIjtcbmltcG9ydCB7IFR3aXJwUnBjLCBsaXZla2l0UGFja2FnZSB9IGZyb20gXCIuL1R3aXJwUlBDLmpzXCI7XG5jb25zdCBzdmMgPSBcIkFnZW50RGlzcGF0Y2hTZXJ2aWNlXCI7XG5jbGFzcyBBZ2VudERpc3BhdGNoQ2xpZW50IGV4dGVuZHMgU2VydmljZUJhc2Uge1xuICAvKipcbiAgICogQHBhcmFtIGhvc3QgLSBob3N0bmFtZSBpbmNsdWRpbmcgcHJvdG9jb2wuIGkuZS4gJ2h0dHBzOi8vPHByb2plY3Q+LmxpdmVraXQuY2xvdWQnXG4gICAqIEBwYXJhbSBhcGlLZXkgLSBBUEkgS2V5LCBjYW4gYmUgc2V0IGluIGVudiB2YXIgTElWRUtJVF9BUElfS0VZXG4gICAqIEBwYXJhbSBzZWNyZXQgLSBBUEkgU2VjcmV0LCBjYW4gYmUgc2V0IGluIGVudiB2YXIgTElWRUtJVF9BUElfU0VDUkVUXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihob3N0LCBhcGlLZXksIHNlY3JldCkge1xuICAgIHN1cGVyKGFwaUtleSwgc2VjcmV0KTtcbiAgICB0aGlzLnJwYyA9IG5ldyBUd2lycFJwYyhob3N0LCBsaXZla2l0UGFja2FnZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBleHBsaWNpdCBkaXNwYXRjaCBmb3IgYW4gYWdlbnQgdG8gam9pbiBhIHJvb20uIFRvIHVzZSBleHBsaWNpdFxuICAgKiBkaXNwYXRjaCwgeW91ciBhZ2VudCBtdXN0IGJlIHJlZ2lzdGVyZWQgd2l0aCBhbiBgYWdlbnROYW1lYC5cbiAgICogQHBhcmFtIHJvb21OYW1lIC0gbmFtZSBvZiB0aGUgcm9vbSB0byBkaXNwYXRjaCB0b1xuICAgKiBAcGFyYW0gYWdlbnROYW1lIC0gbmFtZSBvZiB0aGUgYWdlbnQgdG8gZGlzcGF0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBvcHRpb25hbCBtZXRhZGF0YSB0byBzZW5kIGFsb25nIHdpdGggdGhlIGRpc3BhdGNoXG4gICAqIEByZXR1cm5zIHRoZSBkaXNwYXRjaCB0aGF0IHdhcyBjcmVhdGVkXG4gICAqL1xuICBhc3luYyBjcmVhdGVEaXNwYXRjaChyb29tTmFtZSwgYWdlbnROYW1lLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcmVxID0gbmV3IENyZWF0ZUFnZW50RGlzcGF0Y2hSZXF1ZXN0KHtcbiAgICAgIHJvb206IHJvb21OYW1lLFxuICAgICAgYWdlbnROYW1lLFxuICAgICAgbWV0YWRhdGE6IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubWV0YWRhdGFcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiQ3JlYXRlRGlzcGF0Y2hcIixcbiAgICAgIHJlcSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21BZG1pbjogdHJ1ZSwgcm9vbTogcm9vbU5hbWUgfSlcbiAgICApO1xuICAgIHJldHVybiBBZ2VudERpc3BhdGNoLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGFuIGV4cGxpY2l0IGRpc3BhdGNoIGZvciBhbiBhZ2VudCBpbiBhIHJvb20uXG4gICAqIEBwYXJhbSBkaXNwYXRjaElkIC0gaWQgb2YgdGhlIGRpc3BhdGNoIHRvIGRlbGV0ZVxuICAgKiBAcGFyYW0gcm9vbU5hbWUgLSBuYW1lIG9mIHRoZSByb29tIHRoZSBkaXNwYXRjaCBpcyBmb3JcbiAgICovXG4gIGFzeW5jIGRlbGV0ZURpc3BhdGNoKGRpc3BhdGNoSWQsIHJvb21OYW1lKSB7XG4gICAgY29uc3QgcmVxID0gbmV3IERlbGV0ZUFnZW50RGlzcGF0Y2hSZXF1ZXN0KHtcbiAgICAgIGRpc3BhdGNoSWQsXG4gICAgICByb29tOiByb29tTmFtZVxuICAgIH0pLnRvSnNvbigpO1xuICAgIGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkRlbGV0ZURpc3BhdGNoXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb206IHJvb21OYW1lIH0pXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFuIEFnZW50IGRpc3BhdGNoIGJ5IElEXG4gICAqIEBwYXJhbSBkaXNwYXRjaElkIC0gaWQgb2YgdGhlIGRpc3BhdGNoIHRvIGdldFxuICAgKiBAcGFyYW0gcm9vbU5hbWUgLSBuYW1lIG9mIHRoZSByb29tIHRoZSBkaXNwYXRjaCBpcyBmb3JcbiAgICogQHJldHVybnMgdGhlIGRpc3BhdGNoIHRoYXQgd2FzIGZvdW5kLCBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kXG4gICAqL1xuICBhc3luYyBnZXREaXNwYXRjaChkaXNwYXRjaElkLCByb29tTmFtZSkge1xuICAgIGNvbnN0IHJlcSA9IG5ldyBMaXN0QWdlbnREaXNwYXRjaFJlcXVlc3Qoe1xuICAgICAgZGlzcGF0Y2hJZCxcbiAgICAgIHJvb206IHJvb21OYW1lXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkxpc3REaXNwYXRjaFwiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tOiByb29tTmFtZSB9KVxuICAgICk7XG4gICAgY29uc3QgcmVzID0gTGlzdEFnZW50RGlzcGF0Y2hSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgaWYgKHJlcy5hZ2VudERpc3BhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLmFnZW50RGlzcGF0Y2hlc1swXTtcbiAgfVxuICAvKipcbiAgICogTGlzdCBhbGwgYWdlbnQgZGlzcGF0Y2hlcyBmb3IgYSByb29tXG4gICAqIEBwYXJhbSByb29tTmFtZSAtIG5hbWUgb2YgdGhlIHJvb20gdG8gbGlzdCBkaXNwYXRjaGVzIGZvclxuICAgKiBAcmV0dXJucyB0aGUgbGlzdCBvZiBkaXNwYXRjaGVzXG4gICAqL1xuICBhc3luYyBsaXN0RGlzcGF0Y2gocm9vbU5hbWUpIHtcbiAgICBjb25zdCByZXEgPSBuZXcgTGlzdEFnZW50RGlzcGF0Y2hSZXF1ZXN0KHtcbiAgICAgIHJvb206IHJvb21OYW1lXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkxpc3REaXNwYXRjaFwiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tOiByb29tTmFtZSB9KVxuICAgICk7XG4gICAgY29uc3QgcmVzID0gTGlzdEFnZW50RGlzcGF0Y2hSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgcmV0dXJuIHJlcy5hZ2VudERpc3BhdGNoZXM7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEFnZW50RGlzcGF0Y2hDbGllbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BZ2VudERpc3BhdGNoQ2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJBZ2VudERpc3BhdGNoIiwiQ3JlYXRlQWdlbnREaXNwYXRjaFJlcXVlc3QiLCJEZWxldGVBZ2VudERpc3BhdGNoUmVxdWVzdCIsIkxpc3RBZ2VudERpc3BhdGNoUmVxdWVzdCIsIkxpc3RBZ2VudERpc3BhdGNoUmVzcG9uc2UiLCJTZXJ2aWNlQmFzZSIsIlR3aXJwUnBjIiwibGl2ZWtpdFBhY2thZ2UiLCJzdmMiLCJBZ2VudERpc3BhdGNoQ2xpZW50IiwiY29uc3RydWN0b3IiLCJob3N0IiwiYXBpS2V5Iiwic2VjcmV0IiwicnBjIiwiY3JlYXRlRGlzcGF0Y2giLCJyb29tTmFtZSIsImFnZW50TmFtZSIsIm9wdGlvbnMiLCJyZXEiLCJyb29tIiwibWV0YWRhdGEiLCJ0b0pzb24iLCJkYXRhIiwicmVxdWVzdCIsImF1dGhIZWFkZXIiLCJyb29tQWRtaW4iLCJmcm9tSnNvbiIsImlnbm9yZVVua25vd25GaWVsZHMiLCJkZWxldGVEaXNwYXRjaCIsImRpc3BhdGNoSWQiLCJnZXREaXNwYXRjaCIsInJlcyIsImFnZW50RGlzcGF0Y2hlcyIsImxlbmd0aCIsImxpc3REaXNwYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/AgentDispatchClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/EgressClient.js":
/*!**************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/EgressClient.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EgressClient: () => (/* binding */ EgressClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\nconst svc = \"Egress\";\nclass EgressClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    async startRoomCompositeEgress(roomName, output, optsOrLayout, options, audioOnly, videoOnly, customBaseUrl) {\n        let layout;\n        if (optsOrLayout !== void 0) {\n            if (typeof optsOrLayout === \"string\") {\n                layout = optsOrLayout;\n            } else {\n                const opts = optsOrLayout;\n                layout = opts.layout;\n                options = opts.encodingOptions;\n                audioOnly = opts.audioOnly;\n                videoOnly = opts.videoOnly;\n                customBaseUrl = opts.customBaseUrl;\n            }\n        }\n        layout ??= \"\";\n        audioOnly ??= false;\n        videoOnly ??= false;\n        customBaseUrl ??= \"\";\n        const { output: legacyOutput, options: egressOptions, fileOutputs, streamOutputs, segmentOutputs, imageOutputs } = this.getOutputParams(output, options);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomCompositeEgressRequest({\n            roomName,\n            layout,\n            audioOnly,\n            videoOnly,\n            customBaseUrl,\n            output: legacyOutput,\n            options: egressOptions,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartRoomCompositeEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param url - url\n   * @param output - file or stream output\n   * @param opts - WebOptions\n   */ async startWebEgress(url, output, opts) {\n        const audioOnly = (opts == null ? void 0 : opts.audioOnly) || false;\n        const videoOnly = (opts == null ? void 0 : opts.videoOnly) || false;\n        const awaitStartSignal = (opts == null ? void 0 : opts.awaitStartSignal) || false;\n        const { output: legacyOutput, options, fileOutputs, streamOutputs, segmentOutputs, imageOutputs } = this.getOutputParams(output, opts == null ? void 0 : opts.encodingOptions);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.WebEgressRequest({\n            url,\n            audioOnly,\n            videoOnly,\n            awaitStartSignal,\n            output: legacyOutput,\n            options,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartWebEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * Export a participant's audio and video tracks,\n   *\n   * @param roomName - room name\n   * @param output - one or more outputs\n   * @param opts - ParticipantEgressOptions\n   */ async startParticipantEgress(roomName, identity, output, opts) {\n        const { options, fileOutputs, streamOutputs, segmentOutputs, imageOutputs } = this.getOutputParams(output, opts == null ? void 0 : opts.encodingOptions);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantEgressRequest({\n            roomName,\n            identity,\n            screenShare: (opts == null ? void 0 : opts.screenShare) ?? false,\n            options,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartParticipantEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    async startTrackCompositeEgress(roomName, output, optsOrAudioTrackId, videoTrackId, options) {\n        let audioTrackId;\n        if (optsOrAudioTrackId !== void 0) {\n            if (typeof optsOrAudioTrackId === \"string\") {\n                audioTrackId = optsOrAudioTrackId;\n            } else {\n                const opts = optsOrAudioTrackId;\n                audioTrackId = opts.audioTrackId;\n                videoTrackId = opts.videoTrackId;\n                options = opts.encodingOptions;\n            }\n        }\n        audioTrackId ??= \"\";\n        videoTrackId ??= \"\";\n        const { output: legacyOutput, options: egressOptions, fileOutputs, streamOutputs, segmentOutputs, imageOutputs } = this.getOutputParams(output, options);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackCompositeEgressRequest({\n            roomName,\n            audioTrackId,\n            videoTrackId,\n            output: legacyOutput,\n            options: egressOptions,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartTrackCompositeEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isEncodedOutputs(output) {\n        return output.file !== void 0 || output.stream !== void 0 || output.segments !== void 0 || output.images !== void 0;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isEncodedFileOutput(output) {\n        return output.filepath !== void 0 || output.fileType !== void 0;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isSegmentedFileOutput(output) {\n        return output.filenamePrefix !== void 0 || output.playlistName !== void 0 || output.filenameSuffix !== void 0;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isStreamOutput(output) {\n        return output.protocol !== void 0 || output.urls !== void 0;\n    }\n    getOutputParams(output, opts) {\n        let file;\n        let fileOutputs;\n        let stream;\n        let streamOutputs;\n        let segments;\n        let segmentOutputs;\n        let imageOutputs;\n        if (this.isEncodedOutputs(output)) {\n            if (output.file !== void 0) {\n                fileOutputs = [\n                    output.file\n                ];\n            }\n            if (output.stream !== void 0) {\n                streamOutputs = [\n                    output.stream\n                ];\n            }\n            if (output.segments !== void 0) {\n                segmentOutputs = [\n                    output.segments\n                ];\n            }\n            if (output.images !== void 0) {\n                imageOutputs = [\n                    output.images\n                ];\n            }\n        } else if (this.isEncodedFileOutput(output)) {\n            file = output;\n            fileOutputs = [\n                file\n            ];\n        } else if (this.isSegmentedFileOutput(output)) {\n            segments = output;\n            segmentOutputs = [\n                segments\n            ];\n        } else if (this.isStreamOutput(output)) {\n            stream = output;\n            streamOutputs = [\n                stream\n            ];\n        }\n        let legacyOutput;\n        if (file) {\n            legacyOutput = {\n                case: \"file\",\n                value: file\n            };\n        } else if (stream) {\n            legacyOutput = {\n                case: \"stream\",\n                value: stream\n            };\n        } else if (segments) {\n            legacyOutput = {\n                case: \"segments\",\n                value: segments\n            };\n        }\n        let egressOptions;\n        if (opts) {\n            if (typeof opts === \"number\") {\n                egressOptions = {\n                    case: \"preset\",\n                    value: opts\n                };\n            } else {\n                egressOptions = {\n                    case: \"advanced\",\n                    value: opts\n                };\n            }\n        }\n        return {\n            output: legacyOutput,\n            options: egressOptions,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        };\n    }\n    /**\n   * @param roomName - room name\n   * @param output - file or websocket output\n   * @param trackId - track Id\n   */ async startTrackEgress(roomName, output, trackId) {\n        let legacyOutput;\n        if (typeof output === \"string\") {\n            legacyOutput = {\n                case: \"websocketUrl\",\n                value: output\n            };\n        } else {\n            legacyOutput = {\n                case: \"file\",\n                value: output\n            };\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackEgressRequest({\n            roomName,\n            trackId,\n            output: legacyOutput\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartTrackEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param egressId -\n   * @param layout -\n   */ async updateLayout(egressId, layout) {\n        const data = await this.rpc.request(svc, \"UpdateLayout\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateLayoutRequest({\n            egressId,\n            layout\n        }).toJson(), await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param egressId -\n   * @param addOutputUrls -\n   * @param removeOutputUrls -\n   */ async updateStream(egressId, addOutputUrls, removeOutputUrls) {\n        addOutputUrls ??= [];\n        removeOutputUrls ??= [];\n        const data = await this.rpc.request(svc, \"UpdateStream\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateStreamRequest({\n            egressId,\n            addOutputUrls,\n            removeOutputUrls\n        }).toJson(), await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param roomName - list egress for one room only\n   */ async listEgress(options) {\n        let req = {};\n        if (typeof options === \"string\") {\n            req.roomName = options;\n        } else if (options !== void 0) {\n            req = options;\n        }\n        const data = await this.rpc.request(svc, \"ListEgress\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListEgressRequest(req).toJson(), await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListEgressResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    /**\n   * @param egressId -\n   */ async stopEgress(egressId) {\n        const data = await this.rpc.request(svc, \"StopEgress\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.StopEgressRequest({\n            egressId\n        }).toJson(), await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n}\n //# sourceMappingURL=EgressClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvRWdyZXNzQ2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFZMkI7QUFDb0I7QUFDVTtBQUN6RCxNQUFNYyxNQUFNO0FBQ1osTUFBTUMscUJBQXFCSix3REFBV0E7SUFDcEM7Ozs7R0FJQyxHQUNESyxZQUFZQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsTUFBTSxDQUFFO1FBQ2hDLEtBQUssQ0FBQ0QsUUFBUUM7UUFDZCxJQUFJLENBQUNDLEdBQUcsR0FBRyxJQUFJUixrREFBUUEsQ0FBQ0ssTUFBTUosd0RBQWNBO0lBQzlDO0lBQ0EsTUFBTVEseUJBQXlCQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxPQUFPLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxhQUFhLEVBQUU7UUFDM0csSUFBSUM7UUFDSixJQUFJTCxpQkFBaUIsS0FBSyxHQUFHO1lBQzNCLElBQUksT0FBT0EsaUJBQWlCLFVBQVU7Z0JBQ3BDSyxTQUFTTDtZQUNYLE9BQU87Z0JBQ0wsTUFBTU0sT0FBT047Z0JBQ2JLLFNBQVNDLEtBQUtELE1BQU07Z0JBQ3BCSixVQUFVSyxLQUFLQyxlQUFlO2dCQUM5QkwsWUFBWUksS0FBS0osU0FBUztnQkFDMUJDLFlBQVlHLEtBQUtILFNBQVM7Z0JBQzFCQyxnQkFBZ0JFLEtBQUtGLGFBQWE7WUFDcEM7UUFDRjtRQUNBQyxXQUFXO1FBQ1hILGNBQWM7UUFDZEMsY0FBYztRQUNkQyxrQkFBa0I7UUFDbEIsTUFBTSxFQUNKTCxRQUFRUyxZQUFZLEVBQ3BCUCxTQUFTUSxhQUFhLEVBQ3RCQyxXQUFXLEVBQ1hDLGFBQWEsRUFDYkMsY0FBYyxFQUNkQyxZQUFZLEVBQ2IsR0FBRyxJQUFJLENBQUNDLGVBQWUsQ0FBQ2YsUUFBUUU7UUFDakMsTUFBTWMsTUFBTSxJQUFJbkMseUVBQTBCQSxDQUFDO1lBQ3pDa0I7WUFDQU87WUFDQUg7WUFDQUM7WUFDQUM7WUFDQUws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QUUzQyxPQUFPMUMsaUVBQWtCQSxDQUFDMkMsUUFBUSxDQUFDSixNQUFNO1lBQUVLLHFCQUFxQjtRQUFLLEdBQUdvQyxLQUFLLElBQUksRUFBRTtJQUNyRjtJQUNBOztHQUVDLEdBQ0QsTUFBTUMsV0FBV04sUUFBUSxFQUFFO1FBQ3pCLE1BQU1wQyxPQUFPLE1BQU0sSUFBSSxDQUFDckIsR0FBRyxDQUFDc0IsT0FBTyxDQUNqQzVCLEtBQ0EsY0FDQSxJQUFJVCxnRUFBaUJBLENBQUM7WUFBRXdFO1FBQVMsR0FBR3JDLE1BQU0sSUFDMUMsTUFBTSxJQUFJLENBQUNHLFVBQVUsQ0FBQztZQUFFQyxZQUFZO1FBQUs7UUFFM0MsT0FBTzVDLHlEQUFVQSxDQUFDNkMsUUFBUSxDQUFDSixNQUFNO1lBQUVLLHFCQUFxQjtRQUFLO0lBQy9EO0FBQ0Y7QUFHRSxDQUNGLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FuaW1hLXByb2plY3QvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvRWdyZXNzQ2xpZW50LmpzPzU4ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRWdyZXNzSW5mbyxcbiAgTGlzdEVncmVzc1JlcXVlc3QsXG4gIExpc3RFZ3Jlc3NSZXNwb25zZSxcbiAgUGFydGljaXBhbnRFZ3Jlc3NSZXF1ZXN0LFxuICBSb29tQ29tcG9zaXRlRWdyZXNzUmVxdWVzdCxcbiAgU3RvcEVncmVzc1JlcXVlc3QsXG4gIFRyYWNrQ29tcG9zaXRlRWdyZXNzUmVxdWVzdCxcbiAgVHJhY2tFZ3Jlc3NSZXF1ZXN0LFxuICBVcGRhdGVMYXlvdXRSZXF1ZXN0LFxuICBVcGRhdGVTdHJlYW1SZXF1ZXN0LFxuICBXZWJFZ3Jlc3NSZXF1ZXN0XG59IGZyb20gXCJAbGl2ZWtpdC9wcm90b2NvbFwiO1xuaW1wb3J0IHsgU2VydmljZUJhc2UgfSBmcm9tIFwiLi9TZXJ2aWNlQmFzZS5qc1wiO1xuaW1wb3J0IHsgVHdpcnBScGMsIGxpdmVraXRQYWNrYWdlIH0gZnJvbSBcIi4vVHdpcnBSUEMuanNcIjtcbmNvbnN0IHN2YyA9IFwiRWdyZXNzXCI7XG5jbGFzcyBFZ3Jlc3NDbGllbnQgZXh0ZW5kcyBTZXJ2aWNlQmFzZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gaG9zdCAtIGhvc3RuYW1lIGluY2x1ZGluZyBwcm90b2NvbC4gaS5lLiAnaHR0cHM6Ly88cHJvamVjdD4ubGl2ZWtpdC5jbG91ZCdcbiAgICogQHBhcmFtIGFwaUtleSAtIEFQSSBLZXksIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9LRVlcbiAgICogQHBhcmFtIHNlY3JldCAtIEFQSSBTZWNyZXQsIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9TRUNSRVRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGhvc3QsIGFwaUtleSwgc2VjcmV0KSB7XG4gICAgc3VwZXIoYXBpS2V5LCBzZWNyZXQpO1xuICAgIHRoaXMucnBjID0gbmV3IFR3aXJwUnBjKGhvc3QsIGxpdmVraXRQYWNrYWdlKTtcbiAgfVxuICBhc3luYyBzdGFydFJvb21Db21wb3NpdGVFZ3Jlc3Mocm9vbU5hbWUsIG91dHB1dCwgb3B0c09yTGF5b3V0LCBvcHRpb25zLCBhdWRpb09ubHksIHZpZGVvT25seSwgY3VzdG9tQmFzZVVybCkge1xuICAgIGxldCBsYXlvdXQ7XG4gICAgaWYgKG9wdHNPckxheW91dCAhPT0gdm9pZCAwKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdHNPckxheW91dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBsYXlvdXQgPSBvcHRzT3JMYXlvdXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvcHRzID0gb3B0c09yTGF5b3V0O1xuICAgICAgICBsYXlvdXQgPSBvcHRzLmxheW91dDtcbiAgICAgICAgb3B0aW9ucyA9IG9wdHMuZW5jb2RpbmdPcHRpb25zO1xuICAgICAgICBhdWRpb09ubHkgPSBvcHRzLmF1ZGlvT25seTtcbiAgICAgICAgdmlkZW9Pbmx5ID0gb3B0cy52aWRlb09ubHk7XG4gICAgICAgIGN1c3RvbUJhc2VVcmwgPSBvcHRzLmN1c3RvbUJhc2VVcmw7XG4gICAgICB9XG4gICAgfVxuICAgIGxheW91dCA/Pz0gXCJcIjtcbiAgICBhdWRpb09ubHkgPz89IGZhbHNlO1xuICAgIHZpZGVvT25seSA/Pz0gZmFsc2U7XG4gICAgY3VzdG9tQmFzZVVybCA/Pz0gXCJcIjtcbiAgICBjb25zdCB7XG4gICAgICBvdXRwdXQ6IGxlZ2FjeU91dHB1dCxcbiAgICAgIG9wdGlvbnM6IGVncmVzc09wdGlvbnMsXG4gICAgICBmaWxlT3V0cHV0cyxcbiAgICAgIHN0cmVhbU91dHB1dHMsXG4gICAgICBzZWdtZW50T3V0cHV0cyxcbiAgICAgIGltYWdlT3V0cHV0c1xuICAgIH0gPSB0aGlzLmdldE91dHB1dFBhcmFtcyhvdXRwdXQsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHJlcSA9IG5ldyBSb29tQ29tcG9zaXRlRWdyZXNzUmVxdWVzdCh7XG4gICAgICByb29tTmFtZSxcbiAgICAgIGxheW91dCxcbiAgICAgIGF1ZGlvT25seSxcbiAgICAgIHZpZGVvT25seSxcbiAgICAgIGN1c3RvbUJhc2VVcmwsXG4gICAgICBvdXRwdXQ6IGxlZ2FjeU91dHB1dCxcbiAgICAgIG9wdGlvbnM6IGVncmVzc09wdGlvbnMsXG4gICAgICBmaWxlT3V0cHV0cyxcbiAgICAgIHN0cmVhbU91dHB1dHMsXG4gICAgICBzZWdtZW50T3V0cHV0cyxcbiAgICAgIGltYWdlT3V0cHV0c1xuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJTdGFydFJvb21Db21wb3NpdGVFZ3Jlc3NcIixcbiAgICAgIHJlcSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21SZWNvcmQ6IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBFZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHVybCAtIHVybFxuICAgKiBAcGFyYW0gb3V0cHV0IC0gZmlsZSBvciBzdHJlYW0gb3V0cHV0XG4gICAqIEBwYXJhbSBvcHRzIC0gV2ViT3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgc3RhcnRXZWJFZ3Jlc3ModXJsLCBvdXRwdXQsIG9wdHMpIHtcbiAgICBjb25zdCBhdWRpb09ubHkgPSAob3B0cyA9PSBudWxsID8gdm9pZCAwIDogb3B0cy5hdWRpb09ubHkpIHx8IGZhbHNlO1xuICAgIGNvbnN0IHZpZGVvT25seSA9IChvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLnZpZGVvT25seSkgfHwgZmFsc2U7XG4gICAgY29uc3QgYXdhaXRTdGFydFNpZ25hbCA9IChvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLmF3YWl0U3RhcnRTaWduYWwpIHx8IGZhbHNlO1xuICAgIGNvbnN0IHtcbiAgICAgIG91dHB1dDogbGVnYWN5T3V0cHV0LFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGZpbGVPdXRwdXRzLFxuICAgICAgc3RyZWFtT3V0cHV0cyxcbiAgICAgIHNlZ21lbnRPdXRwdXRzLFxuICAgICAgaW1hZ2VPdXRwdXRzXG4gICAgfSA9IHRoaXMuZ2V0T3V0cHV0UGFyYW1zKG91dHB1dCwgb3B0cyA9PSBudWxsID8gdm9pZCAwIDogb3B0cy5lbmNvZGluZ09wdGlvbnMpO1xuICAgIGNvbnN0IHJlcSA9IG5ldyBXZWJFZ3Jlc3NSZXF1ZXN0KHtcbiAgICAgIHVybCxcbiAgICAgIGF1ZGlvT25seSxcbiAgICAgIHZpZGVvT25seSxcbiAgICAgIGF3YWl0U3RhcnRTaWduYWwsXG4gICAgICBvdXRwdXQ6IGxlZ2FjeU91dHB1dCxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBmaWxlT3V0cHV0cyxcbiAgICAgIHN0cmVhbU91dHB1dHMsXG4gICAgICBzZWdtZW50T3V0cHV0cyxcbiAgICAgIGltYWdlT3V0cHV0c1xuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJTdGFydFdlYkVncmVzc1wiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbVJlY29yZDogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnQgYSBwYXJ0aWNpcGFudCdzIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3MsXG4gICAqXG4gICAqIEBwYXJhbSByb29tTmFtZSAtIHJvb20gbmFtZVxuICAgKiBAcGFyYW0gb3V0cHV0IC0gb25lIG9yIG1vcmUgb3V0cHV0c1xuICAgKiBAcGFyYW0gb3B0cyAtIFBhcnRpY2lwYW50RWdyZXNzT3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgc3RhcnRQYXJ0aWNpcGFudEVncmVzcyhyb29tTmFtZSwgaWRlbnRpdHksIG91dHB1dCwgb3B0cykge1xuICAgIGNvbnN0IHsgb3B0aW9ucywgZmlsZU91dHB1dHMsIHN0cmVhbU91dHB1dHMsIHNlZ21lbnRPdXRwdXRzLCBpbWFnZU91dHB1dHMgfSA9IHRoaXMuZ2V0T3V0cHV0UGFyYW1zKG91dHB1dCwgb3B0cyA9PSBudWxsID8gdm9pZCAwIDogb3B0cy5lbmNvZGluZ09wdGlvbnMpO1xuICAgIGNvbnN0IHJlcSA9IG5ldyBQYXJ0aWNpcGFudEVncmVzc1JlcXVlc3Qoe1xuICAgICAgcm9vbU5hbWUsXG4gICAgICBpZGVudGl0eSxcbiAgICAgIHNjcmVlblNoYXJlOiAob3B0cyA9PSBudWxsID8gdm9pZCAwIDogb3B0cy5zY3JlZW5TaGFyZSkgPz8gZmFsc2UsXG4gICAgICBvcHRpb25zLFxuICAgICAgZmlsZU91dHB1dHMsXG4gICAgICBzdHJlYW1PdXRwdXRzLFxuICAgICAgc2VnbWVudE91dHB1dHMsXG4gICAgICBpbWFnZU91dHB1dHNcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiU3RhcnRQYXJ0aWNpcGFudEVncmVzc1wiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbVJlY29yZDogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIGFzeW5jIHN0YXJ0VHJhY2tDb21wb3NpdGVFZ3Jlc3Mocm9vbU5hbWUsIG91dHB1dCwgb3B0c09yQXVkaW9UcmFja0lkLCB2aWRlb1RyYWNrSWQsIG9wdGlvbnMpIHtcbiAgICBsZXQgYXVkaW9UcmFja0lkO1xuICAgIGlmIChvcHRzT3JBdWRpb1RyYWNrSWQgIT09IHZvaWQgMCkge1xuICAgICAgaWYgKHR5cGVvZiBvcHRzT3JBdWRpb1RyYWNrSWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYXVkaW9UcmFja0lkID0gb3B0c09yQXVkaW9UcmFja0lkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IG9wdHNPckF1ZGlvVHJhY2tJZDtcbiAgICAgICAgYXVkaW9UcmFja0lkID0gb3B0cy5hdWRpb1RyYWNrSWQ7XG4gICAgICAgIHZpZGVvVHJhY2tJZCA9IG9wdHMudmlkZW9UcmFja0lkO1xuICAgICAgICBvcHRpb25zID0gb3B0cy5lbmNvZGluZ09wdGlvbnM7XG4gICAgICB9XG4gICAgfVxuICAgIGF1ZGlvVHJhY2tJZCA/Pz0gXCJcIjtcbiAgICB2aWRlb1RyYWNrSWQgPz89IFwiXCI7XG4gICAgY29uc3Qge1xuICAgICAgb3V0cHV0OiBsZWdhY3lPdXRwdXQsXG4gICAgICBvcHRpb25zOiBlZ3Jlc3NPcHRpb25zLFxuICAgICAgZmlsZU91dHB1dHMsXG4gICAgICBzdHJlYW1PdXRwdXRzLFxuICAgICAgc2VnbWVudE91dHB1dHMsXG4gICAgICBpbWFnZU91dHB1dHNcbiAgICB9ID0gdGhpcy5nZXRPdXRwdXRQYXJhbXMob3V0cHV0LCBvcHRpb25zKTtcbiAgICBjb25zdCByZXEgPSBuZXcgVHJhY2tDb21wb3NpdGVFZ3Jlc3NSZXF1ZXN0KHtcbiAgICAgIHJvb21OYW1lLFxuICAgICAgYXVkaW9UcmFja0lkLFxuICAgICAgdmlkZW9UcmFja0lkLFxuICAgICAgb3V0cHV0OiBsZWdhY3lPdXRwdXQsXG4gICAgICBvcHRpb25zOiBlZ3Jlc3NPcHRpb25zLFxuICAgICAgZmlsZU91dHB1dHMsXG4gICAgICBzdHJlYW1PdXRwdXRzLFxuICAgICAgc2VnbWVudE91dHB1dHMsXG4gICAgICBpbWFnZU91dHB1dHNcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiU3RhcnRUcmFja0NvbXBvc2l0ZUVncmVzc1wiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbVJlY29yZDogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGlzRW5jb2RlZE91dHB1dHMob3V0cHV0KSB7XG4gICAgcmV0dXJuIG91dHB1dC5maWxlICE9PSB2b2lkIDAgfHwgb3V0cHV0LnN0cmVhbSAhPT0gdm9pZCAwIHx8IG91dHB1dC5zZWdtZW50cyAhPT0gdm9pZCAwIHx8IG91dHB1dC5pbWFnZXMgIT09IHZvaWQgMDtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBpc0VuY29kZWRGaWxlT3V0cHV0KG91dHB1dCkge1xuICAgIHJldHVybiBvdXRwdXQuZmlsZXBhdGggIT09IHZvaWQgMCB8fCBvdXRwdXQuZmlsZVR5cGUgIT09IHZvaWQgMDtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBpc1NlZ21lbnRlZEZpbGVPdXRwdXQob3V0cHV0KSB7XG4gICAgcmV0dXJuIG91dHB1dC5maWxlbmFtZVByZWZpeCAhPT0gdm9pZCAwIHx8IG91dHB1dC5wbGF5bGlzdE5hbWUgIT09IHZvaWQgMCB8fCBvdXRwdXQuZmlsZW5hbWVTdWZmaXggIT09IHZvaWQgMDtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBpc1N0cmVhbU91dHB1dChvdXRwdXQpIHtcbiAgICByZXR1cm4gb3V0cHV0LnByb3RvY29sICE9PSB2b2lkIDAgfHwgb3V0cHV0LnVybHMgIT09IHZvaWQgMDtcbiAgfVxuICBnZXRPdXRwdXRQYXJhbXMob3V0cHV0LCBvcHRzKSB7XG4gICAgbGV0IGZpbGU7XG4gICAgbGV0IGZpbGVPdXRwdXRzO1xuICAgIGxldCBzdHJlYW07XG4gICAgbGV0IHN0cmVhbU91dHB1dHM7XG4gICAgbGV0IHNlZ21lbnRzO1xuICAgIGxldCBzZWdtZW50T3V0cHV0cztcbiAgICBsZXQgaW1hZ2VPdXRwdXRzO1xuICAgIGlmICh0aGlzLmlzRW5jb2RlZE91dHB1dHMob3V0cHV0KSkge1xuICAgICAgaWYgKG91dHB1dC5maWxlICE9PSB2b2lkIDApIHtcbiAgICAgICAgZmlsZU91dHB1dHMgPSBbb3V0cHV0LmZpbGVdO1xuICAgICAgfVxuICAgICAgaWYgKG91dHB1dC5zdHJlYW0gIT09IHZvaWQgMCkge1xuICAgICAgICBzdHJlYW1PdXRwdXRzID0gW291dHB1dC5zdHJlYW1dO1xuICAgICAgfVxuICAgICAgaWYgKG91dHB1dC5zZWdtZW50cyAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHNlZ21lbnRPdXRwdXRzID0gW291dHB1dC5zZWdtZW50c107XG4gICAgICB9XG4gICAgICBpZiAob3V0cHV0LmltYWdlcyAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGltYWdlT3V0cHV0cyA9IFtvdXRwdXQuaW1hZ2VzXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNFbmNvZGVkRmlsZU91dHB1dChvdXRwdXQpKSB7XG4gICAgICBmaWxlID0gb3V0cHV0O1xuICAgICAgZmlsZU91dHB1dHMgPSBbZmlsZV07XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzU2VnbWVudGVkRmlsZU91dHB1dChvdXRwdXQpKSB7XG4gICAgICBzZWdtZW50cyA9IG91dHB1dDtcbiAgICAgIHNlZ21lbnRPdXRwdXRzID0gW3NlZ21lbnRzXTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNTdHJlYW1PdXRwdXQob3V0cHV0KSkge1xuICAgICAgc3RyZWFtID0gb3V0cHV0O1xuICAgICAgc3RyZWFtT3V0cHV0cyA9IFtzdHJlYW1dO1xuICAgIH1cbiAgICBsZXQgbGVnYWN5T3V0cHV0O1xuICAgIGlmIChmaWxlKSB7XG4gICAgICBsZWdhY3lPdXRwdXQgPSB7XG4gICAgICAgIGNhc2U6IFwiZmlsZVwiLFxuICAgICAgICB2YWx1ZTogZmlsZVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHN0cmVhbSkge1xuICAgICAgbGVnYWN5T3V0cHV0ID0ge1xuICAgICAgICBjYXNlOiBcInN0cmVhbVwiLFxuICAgICAgICB2YWx1ZTogc3RyZWFtXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoc2VnbWVudHMpIHtcbiAgICAgIGxlZ2FjeU91dHB1dCA9IHtcbiAgICAgICAgY2FzZTogXCJzZWdtZW50c1wiLFxuICAgICAgICB2YWx1ZTogc2VnbWVudHNcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBlZ3Jlc3NPcHRpb25zO1xuICAgIGlmIChvcHRzKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdHMgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgZWdyZXNzT3B0aW9ucyA9IHtcbiAgICAgICAgICBjYXNlOiBcInByZXNldFwiLFxuICAgICAgICAgIHZhbHVlOiBvcHRzXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlZ3Jlc3NPcHRpb25zID0ge1xuICAgICAgICAgIGNhc2U6IFwiYWR2YW5jZWRcIixcbiAgICAgICAgICB2YWx1ZTogb3B0c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgb3V0cHV0OiBsZWdhY3lPdXRwdXQsXG4gICAgICBvcHRpb25zOiBlZ3Jlc3NPcHRpb25zLFxuICAgICAgZmlsZU91dHB1dHMsXG4gICAgICBzdHJlYW1PdXRwdXRzLFxuICAgICAgc2VnbWVudE91dHB1dHMsXG4gICAgICBpbWFnZU91dHB1dHNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gcm9vbU5hbWUgLSByb29tIG5hbWVcbiAgICogQHBhcmFtIG91dHB1dCAtIGZpbGUgb3Igd2Vic29ja2V0IG91dHB1dFxuICAgKiBAcGFyYW0gdHJhY2tJZCAtIHRyYWNrIElkXG4gICAqL1xuICBhc3luYyBzdGFydFRyYWNrRWdyZXNzKHJvb21OYW1lLCBvdXRwdXQsIHRyYWNrSWQpIHtcbiAgICBsZXQgbGVnYWN5T3V0cHV0O1xuICAgIGlmICh0eXBlb2Ygb3V0cHV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBsZWdhY3lPdXRwdXQgPSB7XG4gICAgICAgIGNhc2U6IFwid2Vic29ja2V0VXJsXCIsXG4gICAgICAgIHZhbHVlOiBvdXRwdXRcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZ2FjeU91dHB1dCA9IHtcbiAgICAgICAgY2FzZTogXCJmaWxlXCIsXG4gICAgICAgIHZhbHVlOiBvdXRwdXRcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHJlcSA9IG5ldyBUcmFja0VncmVzc1JlcXVlc3Qoe1xuICAgICAgcm9vbU5hbWUsXG4gICAgICB0cmFja0lkLFxuICAgICAgb3V0cHV0OiBsZWdhY3lPdXRwdXRcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiU3RhcnRUcmFja0VncmVzc1wiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbVJlY29yZDogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gZWdyZXNzSWQgLVxuICAgKiBAcGFyYW0gbGF5b3V0IC1cbiAgICovXG4gIGFzeW5jIHVwZGF0ZUxheW91dChlZ3Jlc3NJZCwgbGF5b3V0KSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIlVwZGF0ZUxheW91dFwiLFxuICAgICAgbmV3IFVwZGF0ZUxheW91dFJlcXVlc3QoeyBlZ3Jlc3NJZCwgbGF5b3V0IH0pLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbVJlY29yZDogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gZWdyZXNzSWQgLVxuICAgKiBAcGFyYW0gYWRkT3V0cHV0VXJscyAtXG4gICAqIEBwYXJhbSByZW1vdmVPdXRwdXRVcmxzIC1cbiAgICovXG4gIGFzeW5jIHVwZGF0ZVN0cmVhbShlZ3Jlc3NJZCwgYWRkT3V0cHV0VXJscywgcmVtb3ZlT3V0cHV0VXJscykge1xuICAgIGFkZE91dHB1dFVybHMgPz89IFtdO1xuICAgIHJlbW92ZU91dHB1dFVybHMgPz89IFtdO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJVcGRhdGVTdHJlYW1cIixcbiAgICAgIG5ldyBVcGRhdGVTdHJlYW1SZXF1ZXN0KHsgZWdyZXNzSWQsIGFkZE91dHB1dFVybHMsIHJlbW92ZU91dHB1dFVybHMgfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gRWdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSByb29tTmFtZSAtIGxpc3QgZWdyZXNzIGZvciBvbmUgcm9vbSBvbmx5XG4gICAqL1xuICBhc3luYyBsaXN0RWdyZXNzKG9wdGlvbnMpIHtcbiAgICBsZXQgcmVxID0ge307XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXEucm9vbU5hbWUgPSBvcHRpb25zO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucyAhPT0gdm9pZCAwKSB7XG4gICAgICByZXEgPSBvcHRpb25zO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTGlzdEVncmVzc1wiLFxuICAgICAgbmV3IExpc3RFZ3Jlc3NSZXF1ZXN0KHJlcSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gTGlzdEVncmVzc1Jlc3BvbnNlLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KS5pdGVtcyA/PyBbXTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIGVncmVzc0lkIC1cbiAgICovXG4gIGFzeW5jIHN0b3BFZ3Jlc3MoZWdyZXNzSWQpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiU3RvcEVncmVzc1wiLFxuICAgICAgbmV3IFN0b3BFZ3Jlc3NSZXF1ZXN0KHsgZWdyZXNzSWQgfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gRWdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEVncmVzc0NsaWVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVncmVzc0NsaWVudC5qcy5tYXAiXSwibmFtZXMiOlsiRWdyZXNzSW5mbyIsIkxpc3RFZ3Jlc3NSZXF1ZXN0IiwiTGlzdEVncmVzc1Jlc3BvbnNlIiwiUGFydGljaXBhbnRFZ3Jlc3NSZXF1ZXN0IiwiUm9vbUNvbXBvc2l0ZUVncmVzc1JlcXVlc3QiLCJTdG9wRWdyZXNzUmVxdWVzdCIsIlRyYWNrQ29tcG9zaXRlRWdyZXNzUmVxdWVzdCIsIlRyYWNrRWdyZXNzUmVxdWVzdCIsIlVwZGF0ZUxheW91dFJlcXVlc3QiLCJVcGRhdGVTdHJlYW1SZXF1ZXN0IiwiV2ViRWdyZXNzUmVxdWVzdCIsIlNlcnZpY2VCYXNlIiwiVHdpcnBScGMiLCJsaXZla2l0UGFja2FnZSIsInN2YyIsIkVncmVzc0NsaWVudCIsImNvbnN0cnVjdG9yIiwiaG9zdCIsImFwaUtleSIsInNlY3JldCIsInJwYyIsInN0YXJ0Um9vbUNvbXBvc2l0ZUVncmVzcyIsInJvb21OYW1lIiwib3V0cHV0Iiwib3B0c09yTGF5b3V0Iiwib3B0aW9ucyIsImF1ZGlvT25seSIsInZpZGVvT25seSIsImN1c3RvbUJhc2VVcmwiLCJsYXlvdXQiLCJvcHRzIiwiZW5jb2RpbmdPcHRpb25zIiwibGVnYWN5T3V0cHV0IiwiZWdyZXNzT3B0aW9ucyIsImZpbGVPdXRwdXRzIiwic3RyZWFtT3V0cHV0cyIsInNlZ21lbnRPdXRwdXRzIiwiaW1hZ2VPdXRwdXRzIiwiZ2V0T3V0cHV0UGFyYW1zIiwicmVxIiwidG9Kc29uIiwiZGF0YSIsInJlcXVlc3QiLCJhdXRoSGVhZGVyIiwicm9vbVJlY29yZCIsImZyb21Kc29uIiwiaWdub3JlVW5rbm93bkZpZWxkcyIsInN0YXJ0V2ViRWdyZXNzIiwidXJsIiwiYXdhaXRTdGFydFNpZ25hbCIsInN0YXJ0UGFydGljaXBhbnRFZ3Jlc3MiLCJpZGVudGl0eSIsInNjcmVlblNoYXJlIiwic3RhcnRUcmFja0NvbXBvc2l0ZUVncmVzcyIsIm9wdHNPckF1ZGlvVHJhY2tJZCIsInZpZGVvVHJhY2tJZCIsImF1ZGlvVHJhY2tJZCIsImlzRW5jb2RlZE91dHB1dHMiLCJmaWxlIiwic3RyZWFtIiwic2VnbWVudHMiLCJpbWFnZXMiLCJpc0VuY29kZWRGaWxlT3V0cHV0IiwiZmlsZXBhdGgiLCJmaWxlVHlwZSIsImlzU2VnbWVudGVkRmlsZU91dHB1dCIsImZpbGVuYW1lUHJlZml4IiwicGxheWxpc3ROYW1lIiwiZmlsZW5hbWVTdWZmaXgiLCJpc1N0cmVhbU91dHB1dCIsInByb3RvY29sIiwidXJscyIsImNhc2UiLCJ2YWx1ZSIsInN0YXJ0VHJhY2tFZ3Jlc3MiLCJ0cmFja0lkIiwidXBkYXRlTGF5b3V0IiwiZWdyZXNzSWQiLCJ1cGRhdGVTdHJlYW0iLCJhZGRPdXRwdXRVcmxzIiwicmVtb3ZlT3V0cHV0VXJscyIsImxpc3RFZ3Jlc3MiLCJpdGVtcyIsInN0b3BFZ3Jlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/EgressClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/IngressClient.js":
/*!***************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/IngressClient.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IngressClient: () => (/* binding */ IngressClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\nconst svc = \"Ingress\";\nclass IngressClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n   * @param inputType - protocol for the ingress\n   * @param opts - CreateIngressOptions\n   */ async createIngress(inputType, opts) {\n        let name = \"\";\n        let participantName = \"\";\n        let participantIdentity = \"\";\n        let bypassTranscoding = false;\n        let url = \"\";\n        if (opts == null) {\n            throw new Error(\"options dictionary is required\");\n        }\n        const roomName = opts.roomName;\n        const enableTranscoding = opts.enableTranscoding;\n        const audio = opts.audio;\n        const video = opts.video;\n        const participantMetadata = opts.participantMetadata;\n        name = opts.name || \"\";\n        participantName = opts.participantName || \"\";\n        participantIdentity = opts.participantIdentity || \"\";\n        bypassTranscoding = opts.bypassTranscoding || false;\n        url = opts.url || \"\";\n        if (typeof roomName == \"undefined\") {\n            throw new Error(\"required roomName option not provided\");\n        }\n        if (participantIdentity == \"\") {\n            throw new Error(\"required participantIdentity option not provided\");\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateIngressRequest({\n            inputType,\n            name,\n            roomName,\n            participantIdentity,\n            participantMetadata,\n            participantName,\n            bypassTranscoding,\n            enableTranscoding,\n            url,\n            audio,\n            video\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateIngress\", req, await this.authHeader({\n            ingressAdmin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param ingressId - ID of the ingress to update\n   * @param opts - UpdateIngressOptions\n   */ async updateIngress(ingressId, opts) {\n        const name = opts.name || \"\";\n        const roomName = opts.roomName || \"\";\n        const participantName = opts.participantName || \"\";\n        const participantIdentity = opts.participantIdentity || \"\";\n        const { participantMetadata } = opts;\n        const { audio, video, bypassTranscoding, enableTranscoding } = opts;\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateIngressRequest({\n            ingressId,\n            name,\n            roomName,\n            participantIdentity,\n            participantName,\n            participantMetadata,\n            bypassTranscoding,\n            enableTranscoding,\n            audio,\n            video\n        }).toJson();\n        const data = await this.rpc.request(svc, \"UpdateIngress\", req, await this.authHeader({\n            ingressAdmin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param arg - list room name or options\n   */ async listIngress(arg) {\n        let req = {};\n        if (typeof arg === \"string\") {\n            req.roomName = arg;\n        } else if (arg) {\n            req = arg;\n        }\n        const data = await this.rpc.request(svc, \"ListIngress\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListIngressRequest(req).toJson(), await this.authHeader({\n            ingressAdmin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListIngressResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    /**\n   * @param ingressId - ingress to delete\n   */ async deleteIngress(ingressId) {\n        const data = await this.rpc.request(svc, \"DeleteIngress\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteIngressRequest({\n            ingressId\n        }).toJson(), await this.authHeader({\n            ingressAdmin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n}\n //# sourceMappingURL=IngressClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvSW5ncmVzc0NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBTzJCO0FBQ29CO0FBQ1U7QUFDekQsTUFBTVMsTUFBTTtBQUNaLE1BQU1DLHNCQUFzQkosd0RBQVdBO0lBQ3JDOzs7O0dBSUMsR0FDREssWUFBWUMsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sQ0FBRTtRQUNoQyxLQUFLLENBQUNELFFBQVFDO1FBQ2QsSUFBSSxDQUFDQyxHQUFHLEdBQUcsSUFBSVIsa0RBQVFBLENBQUNLLE1BQU1KLHdEQUFjQTtJQUM5QztJQUNBOzs7R0FHQyxHQUNELE1BQU1RLGNBQWNDLFNBQVMsRUFBRUMsSUFBSSxFQUFFO1FBQ25DLElBQUlDLE9BQU87UUFDWCxJQUFJQyxrQkFBa0I7UUFDdEIsSUFBSUMsc0JBQXNCO1FBQzFCLElBQUlDLG9CQUFvQjtRQUN4QixJQUFJQyxNQUFNO1FBQ1YsSUFBSUwsUUFBUSxNQUFNO1lBQ2hCLE1BQU0sSUFBSU0sTUFBTTtRQUNsQjtRQUNBLE1BQU1DLFdBQVdQLEtBQUtPLFFBQVE7UUFDOUIsTUFBTUMsb0JBQW9CUixLQUFLUSxpQkFBaUI7UUFDaEQsTUFBTUMsUUFBUVQsS0FBS1MsS0FBSztRQUN4QixNQUFNQyxRQUFRVixLQUFLVSxLQUFLO1FBQ3hCLE1BQU1DLHNCQUFzQlgsS0FBS1csbUJBQW1CO1FBQ3BEVixPQUFPRCxLQUFLQyxJQUFJLElBQUk7UUFDcEJDLGtCQUFrQkYsS0FBS0UsZUFBZSxJQUFJO1FBQzFDQyxzQkFBc0JILEtBQUtHLG1CQUFtQixJQUFJO1FBQ2xEQyxvQkFBb0JKLEtBQUtJLGlCQUFpQixJQUFJO1FBQzlDQyxNQUFNTCxLQUFLSyxHQUFHLElBQUk7UUFDbEIsSUFBSSxPQUFPRSxZQUFZLGFBQWE7WUFDbEMsTUFBTSxJQUFJRCxNQUFNO1FBQ2xCO1FBQ0EsSUFBSUgsdUJBQXVCLElBQUk7WUFDN0IsTUFBTSxJQUFJRyxNQUFNO1FBQ2xCO1FBQ0EsTUFBTU0sTUFBTSxJQUFJOUIsbUVBQW9CQSxDQUFDO1lBQ25DaUI7WUFDQUU7WUFDQU07WUFDQUo7WUFDQVE7WUFDQVQ7WUFDQUU7WUFDQUk7WUFDQUg7WUFDQUk7WUFDQUM7UUFDRixHQUFHRyxNQUFNO1FBQ1QsTUFBTUMsT0FBTyxNQUFNLElBQUksQ0FBQ2pCLEdBQUcsQ0FBQ2tCLE9BQU8sQ0FDakN4QixLQUNBLGlCQUNBcUIsS0FDQSxNQUFNLElBQUksQ0FBQ0ksVUFBVSxDQUFDO1lBQUVDLGNBQWM7UUFBSztRQUU3QyxPQUFPakMsMERBQVdBLENBQUNrQyxRQUFRLENBQUNKLE1BQU07WUFBRUsscUJBQXFCO1FBQUs7SUFDaEU7SUFDQTs7O0dBR0MsR0FDRCxNQUFNQyxjQUFjQyxTQUFTLEVBQUVyQixJQUFJLEVBQUU7UUFDbkMsTUFBTUMsT0FBT0QsS0FBS0MsSUFBSSxJQUFJO1FBQzFCLE1BQU1NLFdBQVdQLEtBQUtPLFFBQVEsSUFBSTtRQUNsQyxNQUFNTCxrQkFBa0JGLEtBQUtFLGVBQWUsSUFBSTtRQUNoRCxNQUFNQyxzQkFBc0JILEtBQUtHLG1CQUFtQixJQUFJO1FBQ3hELE1BQU0sRUFBRVEsbUJBQW1CLEVBQUUsR0FBR1g7UUFDaEMsTUFBTSxFQUFFUyxLQUFLLEVBQUVDLEtBQUssRUFBRU4saUJBQWlCLEVBQUVJLGlCQUFpQixFQUFFLEdBQUdSO1FBQy9ELE1BQU1ZLE1BQU0sSUFBSXpCLG1FQUFvQkEsQ0FBQztZQUNuQ2tDO1lBQ0FwQjtZQUNBTTtZQUNBSjtZQUNBRDtZQUNBUztZQUNBUDtZQUNBSTtZQUNBQztZQUNBQztRQUNGLEdBQUdHLE1BQU07UUFDVCxNQUFNQyxPQUFPLE1BQU0sSUFBSSxDQUFDakIsR0FBRyxDQUFDa0IsT0FBTyxDQUNqQ3hCLEtBQ0EsaUJBQ0FxQixLQUNBLE1BQU0sSUFBSSxDQUFDSSxVQUFVLENBQUM7WUFBRUMsY0FBYztRQUFLO1FBRTdDLE9BQU9qQywwREFBV0EsQ0FBQ2tDLFFBQVEsQ0FBQ0osTUFBTTtZQUFFSyxxQkFBcUI7UUFBSztJQUNoRTtJQUNBOztHQUVDLEdBQ0QsTUFBTUcsWUFBWUMsR0FBRyxFQUFFO1FBQ3JCLElBQUlYLE1BQU0sQ0FBQztRQUNYLElBQUksT0FBT1csUUFBUSxVQUFVO1lBQzNCWCxJQUFJTCxRQUFRLEdBQUdnQjtRQUNqQixPQUFPLElBQUlBLEtBQUs7WUFDZFgsTUFBTVc7UUFDUjtRQUNBLE1BQU1ULE9BQU8sTUFBTSxJQUFJLENBQUNqQixHQUFHLENBQUNrQixPQUFPLENBQ2pDeEIsS0FDQSxlQUNBLElBQUlOLGlFQUFrQkEsQ0FBQzJCLEtBQUtDLE1BQU0sSUFDbEMsTUFBTSxJQUFJLENBQUNHLFVBQVUsQ0FBQztZQUFFQyxjQUFjO1FBQUs7UUFFN0MsT0FBTy9CLGtFQUFtQkEsQ0FBQ2dDLFFBQVEsQ0FBQ0osTUFBTTtZQUFFSyxxQkFBcUI7UUFBSyxHQUFHSyxLQUFLLElBQUksRUFBRTtJQUN0RjtJQUNBOztHQUVDLEdBQ0QsTUFBTUMsY0FBY0osU0FBUyxFQUFFO1FBQzdCLE1BQU1QLE9BQU8sTUFBTSxJQUFJLENBQUNqQixHQUFHLENBQUNrQixPQUFPLENBQ2pDeEIsS0FDQSxpQkFDQSxJQUFJUixtRUFBb0JBLENBQUM7WUFBRXNDO1FBQVUsR0FBR1IsTUFBTSxJQUM5QyxNQUFNLElBQUksQ0FBQ0csVUFBVSxDQUFDO1lBQUVDLGNBQWM7UUFBSztRQUU3QyxPQUFPakMsMERBQVdBLENBQUNrQyxRQUFRLENBQUNKLE1BQU07WUFBRUsscUJBQXFCO1FBQUs7SUFDaEU7QUFDRjtBQUdFLENBQ0YseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5pbWEtcHJvamVjdC8uL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9JbmdyZXNzQ2xpZW50LmpzPzgwYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ3JlYXRlSW5ncmVzc1JlcXVlc3QsXG4gIERlbGV0ZUluZ3Jlc3NSZXF1ZXN0LFxuICBJbmdyZXNzSW5mbyxcbiAgTGlzdEluZ3Jlc3NSZXF1ZXN0LFxuICBMaXN0SW5ncmVzc1Jlc3BvbnNlLFxuICBVcGRhdGVJbmdyZXNzUmVxdWVzdFxufSBmcm9tIFwiQGxpdmVraXQvcHJvdG9jb2xcIjtcbmltcG9ydCB7IFNlcnZpY2VCYXNlIH0gZnJvbSBcIi4vU2VydmljZUJhc2UuanNcIjtcbmltcG9ydCB7IFR3aXJwUnBjLCBsaXZla2l0UGFja2FnZSB9IGZyb20gXCIuL1R3aXJwUlBDLmpzXCI7XG5jb25zdCBzdmMgPSBcIkluZ3Jlc3NcIjtcbmNsYXNzIEluZ3Jlc3NDbGllbnQgZXh0ZW5kcyBTZXJ2aWNlQmFzZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gaG9zdCAtIGhvc3RuYW1lIGluY2x1ZGluZyBwcm90b2NvbC4gaS5lLiAnaHR0cHM6Ly88cHJvamVjdD4ubGl2ZWtpdC5jbG91ZCdcbiAgICogQHBhcmFtIGFwaUtleSAtIEFQSSBLZXksIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9LRVlcbiAgICogQHBhcmFtIHNlY3JldCAtIEFQSSBTZWNyZXQsIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9TRUNSRVRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGhvc3QsIGFwaUtleSwgc2VjcmV0KSB7XG4gICAgc3VwZXIoYXBpS2V5LCBzZWNyZXQpO1xuICAgIHRoaXMucnBjID0gbmV3IFR3aXJwUnBjKGhvc3QsIGxpdmVraXRQYWNrYWdlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIGlucHV0VHlwZSAtIHByb3RvY29sIGZvciB0aGUgaW5ncmVzc1xuICAgKiBAcGFyYW0gb3B0cyAtIENyZWF0ZUluZ3Jlc3NPcHRpb25zXG4gICAqL1xuICBhc3luYyBjcmVhdGVJbmdyZXNzKGlucHV0VHlwZSwgb3B0cykge1xuICAgIGxldCBuYW1lID0gXCJcIjtcbiAgICBsZXQgcGFydGljaXBhbnROYW1lID0gXCJcIjtcbiAgICBsZXQgcGFydGljaXBhbnRJZGVudGl0eSA9IFwiXCI7XG4gICAgbGV0IGJ5cGFzc1RyYW5zY29kaW5nID0gZmFsc2U7XG4gICAgbGV0IHVybCA9IFwiXCI7XG4gICAgaWYgKG9wdHMgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucyBkaWN0aW9uYXJ5IGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBjb25zdCByb29tTmFtZSA9IG9wdHMucm9vbU5hbWU7XG4gICAgY29uc3QgZW5hYmxlVHJhbnNjb2RpbmcgPSBvcHRzLmVuYWJsZVRyYW5zY29kaW5nO1xuICAgIGNvbnN0IGF1ZGlvID0gb3B0cy5hdWRpbztcbiAgICBjb25zdCB2aWRlbyA9IG9wdHMudmlkZW87XG4gICAgY29uc3QgcGFydGljaXBhbnRNZXRhZGF0YSA9IG9wdHMucGFydGljaXBhbnRNZXRhZGF0YTtcbiAgICBuYW1lID0gb3B0cy5uYW1lIHx8IFwiXCI7XG4gICAgcGFydGljaXBhbnROYW1lID0gb3B0cy5wYXJ0aWNpcGFudE5hbWUgfHwgXCJcIjtcbiAgICBwYXJ0aWNpcGFudElkZW50aXR5ID0gb3B0cy5wYXJ0aWNpcGFudElkZW50aXR5IHx8IFwiXCI7XG4gICAgYnlwYXNzVHJhbnNjb2RpbmcgPSBvcHRzLmJ5cGFzc1RyYW5zY29kaW5nIHx8IGZhbHNlO1xuICAgIHVybCA9IG9wdHMudXJsIHx8IFwiXCI7XG4gICAgaWYgKHR5cGVvZiByb29tTmFtZSA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZXF1aXJlZCByb29tTmFtZSBvcHRpb24gbm90IHByb3ZpZGVkXCIpO1xuICAgIH1cbiAgICBpZiAocGFydGljaXBhbnRJZGVudGl0eSA9PSBcIlwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZXF1aXJlZCBwYXJ0aWNpcGFudElkZW50aXR5IG9wdGlvbiBub3QgcHJvdmlkZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IHJlcSA9IG5ldyBDcmVhdGVJbmdyZXNzUmVxdWVzdCh7XG4gICAgICBpbnB1dFR5cGUsXG4gICAgICBuYW1lLFxuICAgICAgcm9vbU5hbWUsXG4gICAgICBwYXJ0aWNpcGFudElkZW50aXR5LFxuICAgICAgcGFydGljaXBhbnRNZXRhZGF0YSxcbiAgICAgIHBhcnRpY2lwYW50TmFtZSxcbiAgICAgIGJ5cGFzc1RyYW5zY29kaW5nLFxuICAgICAgZW5hYmxlVHJhbnNjb2RpbmcsXG4gICAgICB1cmwsXG4gICAgICBhdWRpbyxcbiAgICAgIHZpZGVvXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkNyZWF0ZUluZ3Jlc3NcIixcbiAgICAgIHJlcSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IGluZ3Jlc3NBZG1pbjogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEluZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIGluZ3Jlc3NJZCAtIElEIG9mIHRoZSBpbmdyZXNzIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0gb3B0cyAtIFVwZGF0ZUluZ3Jlc3NPcHRpb25zXG4gICAqL1xuICBhc3luYyB1cGRhdGVJbmdyZXNzKGluZ3Jlc3NJZCwgb3B0cykge1xuICAgIGNvbnN0IG5hbWUgPSBvcHRzLm5hbWUgfHwgXCJcIjtcbiAgICBjb25zdCByb29tTmFtZSA9IG9wdHMucm9vbU5hbWUgfHwgXCJcIjtcbiAgICBjb25zdCBwYXJ0aWNpcGFudE5hbWUgPSBvcHRzLnBhcnRpY2lwYW50TmFtZSB8fCBcIlwiO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50SWRlbnRpdHkgPSBvcHRzLnBhcnRpY2lwYW50SWRlbnRpdHkgfHwgXCJcIjtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50TWV0YWRhdGEgfSA9IG9wdHM7XG4gICAgY29uc3QgeyBhdWRpbywgdmlkZW8sIGJ5cGFzc1RyYW5zY29kaW5nLCBlbmFibGVUcmFuc2NvZGluZyB9ID0gb3B0cztcbiAgICBjb25zdCByZXEgPSBuZXcgVXBkYXRlSW5ncmVzc1JlcXVlc3Qoe1xuICAgICAgaW5ncmVzc0lkLFxuICAgICAgbmFtZSxcbiAgICAgIHJvb21OYW1lLFxuICAgICAgcGFydGljaXBhbnRJZGVudGl0eSxcbiAgICAgIHBhcnRpY2lwYW50TmFtZSxcbiAgICAgIHBhcnRpY2lwYW50TWV0YWRhdGEsXG4gICAgICBieXBhc3NUcmFuc2NvZGluZyxcbiAgICAgIGVuYWJsZVRyYW5zY29kaW5nLFxuICAgICAgYXVkaW8sXG4gICAgICB2aWRlb1xuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJVcGRhdGVJbmdyZXNzXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyBpbmdyZXNzQWRtaW46IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBJbmdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBhcmcgLSBsaXN0IHJvb20gbmFtZSBvciBvcHRpb25zXG4gICAqL1xuICBhc3luYyBsaXN0SW5ncmVzcyhhcmcpIHtcbiAgICBsZXQgcmVxID0ge307XG4gICAgaWYgKHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJlcS5yb29tTmFtZSA9IGFyZztcbiAgICB9IGVsc2UgaWYgKGFyZykge1xuICAgICAgcmVxID0gYXJnO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTGlzdEluZ3Jlc3NcIixcbiAgICAgIG5ldyBMaXN0SW5ncmVzc1JlcXVlc3QocmVxKS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IGluZ3Jlc3NBZG1pbjogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIExpc3RJbmdyZXNzUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pLml0ZW1zID8/IFtdO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gaW5ncmVzc0lkIC0gaW5ncmVzcyB0byBkZWxldGVcbiAgICovXG4gIGFzeW5jIGRlbGV0ZUluZ3Jlc3MoaW5ncmVzc0lkKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkRlbGV0ZUluZ3Jlc3NcIixcbiAgICAgIG5ldyBEZWxldGVJbmdyZXNzUmVxdWVzdCh7IGluZ3Jlc3NJZCB9KS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IGluZ3Jlc3NBZG1pbjogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEluZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgSW5ncmVzc0NsaWVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUluZ3Jlc3NDbGllbnQuanMubWFwIl0sIm5hbWVzIjpbIkNyZWF0ZUluZ3Jlc3NSZXF1ZXN0IiwiRGVsZXRlSW5ncmVzc1JlcXVlc3QiLCJJbmdyZXNzSW5mbyIsIkxpc3RJbmdyZXNzUmVxdWVzdCIsIkxpc3RJbmdyZXNzUmVzcG9uc2UiLCJVcGRhdGVJbmdyZXNzUmVxdWVzdCIsIlNlcnZpY2VCYXNlIiwiVHdpcnBScGMiLCJsaXZla2l0UGFja2FnZSIsInN2YyIsIkluZ3Jlc3NDbGllbnQiLCJjb25zdHJ1Y3RvciIsImhvc3QiLCJhcGlLZXkiLCJzZWNyZXQiLCJycGMiLCJjcmVhdGVJbmdyZXNzIiwiaW5wdXRUeXBlIiwib3B0cyIsIm5hbWUiLCJwYXJ0aWNpcGFudE5hbWUiLCJwYXJ0aWNpcGFudElkZW50aXR5IiwiYnlwYXNzVHJhbnNjb2RpbmciLCJ1cmwiLCJFcnJvciIsInJvb21OYW1lIiwiZW5hYmxlVHJhbnNjb2RpbmciLCJhdWRpbyIsInZpZGVvIiwicGFydGljaXBhbnRNZXRhZGF0YSIsInJlcSIsInRvSnNvbiIsImRhdGEiLCJyZXF1ZXN0IiwiYXV0aEhlYWRlciIsImluZ3Jlc3NBZG1pbiIsImZyb21Kc29uIiwiaWdub3JlVW5rbm93bkZpZWxkcyIsInVwZGF0ZUluZ3Jlc3MiLCJpbmdyZXNzSWQiLCJsaXN0SW5ncmVzcyIsImFyZyIsIml0ZW1zIiwiZGVsZXRlSW5ncmVzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/IngressClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/RoomServiceClient.js":
/*!*******************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/RoomServiceClient.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RoomServiceClient: () => (/* binding */ RoomServiceClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n/* harmony import */ var _crypto_uuid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./crypto/uuid.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/crypto/uuid.js\");\n\n\n\n\nconst svc = \"RoomService\";\nclass RoomServiceClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   *\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n   * Creates a new room. Explicit room creation is not required, since rooms will\n   * be automatically created when the first participant joins. This method can be\n   * used to customize room settings.\n   * @param options -\n   */ async createRoom(options) {\n        const data = await this.rpc.request(svc, \"CreateRoom\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateRoomRequest(options).toJson(), await this.authHeader({\n            roomCreate: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.Room.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * List active rooms\n   * @param names - when undefined or empty, list all rooms.\n   *                otherwise returns rooms with matching names\n   * @returns\n   */ async listRooms(names) {\n        const data = await this.rpc.request(svc, \"ListRooms\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListRoomsRequest({\n            names: names ?? []\n        }).toJson(), await this.authHeader({\n            roomList: true\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListRoomsResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        return res.rooms ?? [];\n    }\n    async deleteRoom(room) {\n        await this.rpc.request(svc, \"DeleteRoom\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteRoomRequest({\n            room\n        }).toJson(), await this.authHeader({\n            roomCreate: true\n        }));\n    }\n    /**\n   * Update metadata of a room\n   * @param room - name of the room\n   * @param metadata - the new metadata for the room\n   */ async updateRoomMetadata(room, metadata) {\n        const data = await this.rpc.request(svc, \"UpdateRoomMetadata\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateRoomMetadataRequest({\n            room,\n            metadata\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.Room.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * List participants in a room\n   * @param room - name of the room\n   */ async listParticipants(room) {\n        const data = await this.rpc.request(svc, \"ListParticipants\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListParticipantsRequest({\n            room\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListParticipantsResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        return res.participants ?? [];\n    }\n    /**\n   * Get information on a specific participant, including the tracks that participant\n   * has published\n   * @param room - name of the room\n   * @param identity - identity of the participant to return\n   */ async getParticipant(room, identity) {\n        const data = await this.rpc.request(svc, \"GetParticipant\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomParticipantIdentity({\n            room,\n            identity\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * Removes a participant in the room. This will disconnect the participant\n   * and will emit a Disconnected event for that participant.\n   * Even after being removed, the participant can still re-join the room.\n   * @param room -\n   * @param identity -\n   */ async removeParticipant(room, identity) {\n        await this.rpc.request(svc, \"RemoveParticipant\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomParticipantIdentity({\n            room,\n            identity\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n    }\n    /**\n   * Forwards a participant's track to another room. This will create a\n   * participant to join the destination room that has same information\n   * with the source participant except the kind to be `Forwarded`. All\n   * changes to the source participant will be reflected to the forwarded\n   * participant. When the source participant disconnects or the\n   * `RemoveParticipant` method is called in the destination room, the\n   * forwarding will be stopped.\n   */ async forwardParticipant(room, identity, destinationRoom) {\n        await this.rpc.request(svc, \"ForwardParticipant\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ForwardParticipantRequest({\n            room,\n            identity,\n            destinationRoom\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room,\n            destinationRoom\n        }));\n    }\n    /**\n   * Mutes a track that the participant has published.\n   * @param room -\n   * @param identity -\n   * @param trackSid - sid of the track to be muted\n   * @param muted - true to mute, false to unmute\n   */ async mutePublishedTrack(room, identity, trackSid, muted) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.MuteRoomTrackRequest({\n            room,\n            identity,\n            trackSid,\n            muted\n        }).toJson();\n        const data = await this.rpc.request(svc, \"MutePublishedTrack\", req, await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.MuteRoomTrackResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        return res.track;\n    }\n    async updateParticipant(room, identity, metadataOrOptions, maybePermission, maybeName) {\n        const hasOptions = typeof metadataOrOptions === \"object\";\n        const metadata = hasOptions ? metadataOrOptions == null ? void 0 : metadataOrOptions.metadata : metadataOrOptions;\n        const permission = hasOptions ? metadataOrOptions.permission : maybePermission;\n        const name = hasOptions ? metadataOrOptions.name : maybeName;\n        const attributes = hasOptions ? metadataOrOptions.attributes : {};\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateParticipantRequest({\n            room,\n            identity,\n            attributes,\n            metadata,\n            name\n        });\n        if (permission) {\n            req.permission = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantPermission(permission);\n        }\n        const data = await this.rpc.request(svc, \"UpdateParticipant\", req.toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * Updates a participant's subscription to tracks\n   * @param room -\n   * @param identity -\n   * @param trackSids -\n   * @param subscribe - true to subscribe, false to unsubscribe\n   */ async updateSubscriptions(room, identity, trackSids, subscribe) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateSubscriptionsRequest({\n            room,\n            identity,\n            trackSids,\n            subscribe,\n            participantTracks: []\n        }).toJson();\n        await this.rpc.request(svc, \"UpdateSubscriptions\", req, await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n    }\n    async sendData(room, data, kind, options = {}) {\n        const destinationSids = Array.isArray(options) ? options : options.destinationSids;\n        const topic = Array.isArray(options) ? void 0 : options.topic;\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SendDataRequest({\n            room,\n            data,\n            kind,\n            destinationSids: destinationSids ?? [],\n            topic\n        });\n        if (!Array.isArray(options) && options.destinationIdentities) {\n            req.destinationIdentities = options.destinationIdentities;\n        }\n        req.nonce = await (0,_crypto_uuid_js__WEBPACK_IMPORTED_MODULE_3__.getRandomBytes)(16);\n        await this.rpc.request(svc, \"SendData\", req.toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n    }\n}\n //# sourceMappingURL=RoomServiceClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvUm9vbVNlcnZpY2VDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFrQjJCO0FBQ29CO0FBQ1U7QUFDUDtBQUNsRCxNQUFNcUIsTUFBTTtBQUNaLE1BQU1DLDBCQUEwQkwsd0RBQVdBO0lBQ3pDOzs7OztHQUtDLEdBQ0RNLFlBQVlDLElBQUksRUFBRUMsTUFBTSxFQUFFQyxNQUFNLENBQUU7UUFDaEMsS0FBSyxDQUFDRCxRQUFRQztRQUNkLElBQUksQ0FBQ0MsR0FBRyxHQUFHLElBQUlULGtEQUFRQSxDQUFDTSxNQUFNTCx3REFBY0E7SUFDOUM7SUFDQTs7Ozs7R0FLQyxHQUNELE1BQU1TLFdBQVdDLE9BQU8sRUFBRTtRQUN4QixNQUFNQyxPQUFPLE1BQU0sSUFBSSxDQUFDSCxHQUFHLENBQUNJLE9BQU8sQ0FDakNWLEtBQ0EsY0FDQSxJQUFJckIsZ0VBQWlCQSxDQUFDNkIsU0FBU0csTUFBTSxJQUNyQyxNQUFNLElBQUksQ0FBQ0MsVUFBVSxDQUFDO1lBQUVDLFlBQVk7UUFBSztRQUUzQyxPQUFPdkIsbURBQUlBLENBQUN3QixRQUFRLENBQUNMLE1BQU07WUFBRU0scUJBQXFCO1FBQUs7SUFDekQ7SUFDQTs7Ozs7R0FLQyxHQUNELE1BQU1DLFVBQVVDLEtBQUssRUFBRTtRQUNyQixNQUFNUixPQUFPLE1BQU0sSUFBSSxDQUFDSCxHQUFHLENBQUNJLE9BQU8sQ0FDakNWLEtBQ0EsYUFDQSxJQUFJaEIsK0RBQWdCQSxDQUFDO1lBQUVpQyxPQUFPQSxTQUFTLEVBQUU7UUFBQyxHQUFHTixNQUFNLElBQ25ELE1BQU0sSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFBRU0sVUFBVTtRQUFLO1FBRXpDLE1BQU1DLE1BQU1sQyxnRUFBaUJBLENBQUM2QixRQUFRLENBQUNMLE1BQU07WUFBRU0scUJBQXFCO1FBQUs7UUFDekUsT0FBT0ksSUFBSUMsS0FBSyxJQUFJLEVBQUU7SUFDeEI7SUFD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a0I7WUFDQUM7WUFDQUMsbUJBQW1CLEVBQUU7UUFDdkIsR0FBR3RDLE1BQU07UUFDVCxNQUFNLElBQUksQ0FBQ0wsR0FBRyxDQUFDSSxPQUFPLENBQ3BCVixLQUNBLHVCQUNBb0MsS0FDQSxNQUFNLElBQUksQ0FBQ3hCLFVBQVUsQ0FBQztZQUFFYSxXQUFXO1lBQU1IO1FBQUs7SUFFbEQ7SUFDQSxNQUFNNEIsU0FBUzVCLElBQUksRUFBRWIsSUFBSSxFQUFFMEMsSUFBSSxFQUFFM0MsVUFBVSxDQUFDLENBQUMsRUFBRTtRQUM3QyxNQUFNNEMsa0JBQWtCQyxNQUFNQyxPQUFPLENBQUM5QyxXQUFXQSxVQUFVQSxRQUFRNEMsZUFBZTtRQUNsRixNQUFNRyxRQUFRRixNQUFNQyxPQUFPLENBQUM5QyxXQUFXLEtBQUssSUFBSUEsUUFBUStDLEtBQUs7UUFDN0QsTUFBTW5CLE1BQU0sSUFBSTVDLDhEQUFlQSxDQUFDO1lBQzlCOEI7WUFDQWI7WUFDQTBDO1lBQ0FDLGlCQUFpQkEsbUJBQW1CLEVBQUU7WUFDdENHO1FBQ0Y7UUFDQSxJQUFJLENBQUNGLE1BQU1DLE9BQU8sQ0FBQzlDLFlBQVlBLFFBQVFnRCxxQkFBcUIsRUFBRTtZQUM1RHBCLElBQUlvQixxQkFBcUIsR0FBR2hELFFBQVFnRCxxQkFBcUI7UUFDM0Q7UUFDQXBCLElBQUlxQixLQUFLLEdBQUcsTUFBTTFELCtEQUFjQSxDQUFDO1FBQ2pDLE1BQU0sSUFBSSxDQUFDTyxHQUFHLENBQUNJLE9BQU8sQ0FDcEJWLEtBQ0EsWUFDQW9DLElBQUl6QixNQUFNLElBQ1YsTUFBTSxJQUFJLENBQUNDLFVBQVUsQ0FBQztZQUFFYSxXQUFXO1lBQU1IO1FBQUs7SUFFbEQ7QUFDRjtBQUdFLENBQ0YsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5pbWEtcHJvamVjdC8uL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9Sb29tU2VydmljZUNsaWVudC5qcz9mMDY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENyZWF0ZVJvb21SZXF1ZXN0LFxuICBEZWxldGVSb29tUmVxdWVzdCxcbiAgRm9yd2FyZFBhcnRpY2lwYW50UmVxdWVzdCxcbiAgTGlzdFBhcnRpY2lwYW50c1JlcXVlc3QsXG4gIExpc3RQYXJ0aWNpcGFudHNSZXNwb25zZSxcbiAgTGlzdFJvb21zUmVxdWVzdCxcbiAgTGlzdFJvb21zUmVzcG9uc2UsXG4gIE11dGVSb29tVHJhY2tSZXF1ZXN0LFxuICBNdXRlUm9vbVRyYWNrUmVzcG9uc2UsXG4gIFBhcnRpY2lwYW50SW5mbyxcbiAgUGFydGljaXBhbnRQZXJtaXNzaW9uLFxuICBSb29tLFxuICBSb29tUGFydGljaXBhbnRJZGVudGl0eSxcbiAgU2VuZERhdGFSZXF1ZXN0LFxuICBVcGRhdGVQYXJ0aWNpcGFudFJlcXVlc3QsXG4gIFVwZGF0ZVJvb21NZXRhZGF0YVJlcXVlc3QsXG4gIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0XG59IGZyb20gXCJAbGl2ZWtpdC9wcm90b2NvbFwiO1xuaW1wb3J0IHsgU2VydmljZUJhc2UgfSBmcm9tIFwiLi9TZXJ2aWNlQmFzZS5qc1wiO1xuaW1wb3J0IHsgVHdpcnBScGMsIGxpdmVraXRQYWNrYWdlIH0gZnJvbSBcIi4vVHdpcnBSUEMuanNcIjtcbmltcG9ydCB7IGdldFJhbmRvbUJ5dGVzIH0gZnJvbSBcIi4vY3J5cHRvL3V1aWQuanNcIjtcbmNvbnN0IHN2YyA9IFwiUm9vbVNlcnZpY2VcIjtcbmNsYXNzIFJvb21TZXJ2aWNlQ2xpZW50IGV4dGVuZHMgU2VydmljZUJhc2Uge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGhvc3QgLSBob3N0bmFtZSBpbmNsdWRpbmcgcHJvdG9jb2wuIGkuZS4gJ2h0dHBzOi8vPHByb2plY3Q+LmxpdmVraXQuY2xvdWQnXG4gICAqIEBwYXJhbSBhcGlLZXkgLSBBUEkgS2V5LCBjYW4gYmUgc2V0IGluIGVudiB2YXIgTElWRUtJVF9BUElfS0VZXG4gICAqIEBwYXJhbSBzZWNyZXQgLSBBUEkgU2VjcmV0LCBjYW4gYmUgc2V0IGluIGVudiB2YXIgTElWRUtJVF9BUElfU0VDUkVUXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihob3N0LCBhcGlLZXksIHNlY3JldCkge1xuICAgIHN1cGVyKGFwaUtleSwgc2VjcmV0KTtcbiAgICB0aGlzLnJwYyA9IG5ldyBUd2lycFJwYyhob3N0LCBsaXZla2l0UGFja2FnZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcm9vbS4gRXhwbGljaXQgcm9vbSBjcmVhdGlvbiBpcyBub3QgcmVxdWlyZWQsIHNpbmNlIHJvb21zIHdpbGxcbiAgICogYmUgYXV0b21hdGljYWxseSBjcmVhdGVkIHdoZW4gdGhlIGZpcnN0IHBhcnRpY2lwYW50IGpvaW5zLiBUaGlzIG1ldGhvZCBjYW4gYmVcbiAgICogdXNlZCB0byBjdXN0b21pemUgcm9vbSBzZXR0aW5ncy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlUm9vbShvcHRpb25zKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkNyZWF0ZVJvb21cIixcbiAgICAgIG5ldyBDcmVhdGVSb29tUmVxdWVzdChvcHRpb25zKS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21DcmVhdGU6IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBSb29tLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogTGlzdCBhY3RpdmUgcm9vbXNcbiAgICogQHBhcmFtIG5hbWVzIC0gd2hlbiB1bmRlZmluZWQgb3IgZW1wdHksIGxpc3QgYWxsIHJvb21zLlxuICAgKiAgICAgICAgICAgICAgICBvdGhlcndpc2UgcmV0dXJucyByb29tcyB3aXRoIG1hdGNoaW5nIG5hbWVzXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBsaXN0Um9vbXMobmFtZXMpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTGlzdFJvb21zXCIsXG4gICAgICBuZXcgTGlzdFJvb21zUmVxdWVzdCh7IG5hbWVzOiBuYW1lcyA/PyBbXSB9KS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21MaXN0OiB0cnVlIH0pXG4gICAgKTtcbiAgICBjb25zdCByZXMgPSBMaXN0Um9vbXNSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgcmV0dXJuIHJlcy5yb29tcyA/PyBbXTtcbiAgfVxuICBhc3luYyBkZWxldGVSb29tKHJvb20pIHtcbiAgICBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJEZWxldGVSb29tXCIsXG4gICAgICBuZXcgRGVsZXRlUm9vbVJlcXVlc3QoeyByb29tIH0pLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUNyZWF0ZTogdHJ1ZSB9KVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSBtZXRhZGF0YSBvZiBhIHJvb21cbiAgICogQHBhcmFtIHJvb20gLSBuYW1lIG9mIHRoZSByb29tXG4gICAqIEBwYXJhbSBtZXRhZGF0YSAtIHRoZSBuZXcgbWV0YWRhdGEgZm9yIHRoZSByb29tXG4gICAqL1xuICBhc3luYyB1cGRhdGVSb29tTWV0YWRhdGEocm9vbSwgbWV0YWRhdGEpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiVXBkYXRlUm9vbU1ldGFkYXRhXCIsXG4gICAgICBuZXcgVXBkYXRlUm9vbU1ldGFkYXRhUmVxdWVzdCh7IHJvb20sIG1ldGFkYXRhIH0pLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pXG4gICAgKTtcbiAgICByZXR1cm4gUm9vbS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3QgcGFydGljaXBhbnRzIGluIGEgcm9vbVxuICAgKiBAcGFyYW0gcm9vbSAtIG5hbWUgb2YgdGhlIHJvb21cbiAgICovXG4gIGFzeW5jIGxpc3RQYXJ0aWNpcGFudHMocm9vbSkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJMaXN0UGFydGljaXBhbnRzXCIsXG4gICAgICBuZXcgTGlzdFBhcnRpY2lwYW50c1JlcXVlc3QoeyByb29tIH0pLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pXG4gICAgKTtcbiAgICBjb25zdCByZXMgPSBMaXN0UGFydGljaXBhbnRzUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIHJldHVybiByZXMucGFydGljaXBhbnRzID8/IFtdO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5mb3JtYXRpb24gb24gYSBzcGVjaWZpYyBwYXJ0aWNpcGFudCwgaW5jbHVkaW5nIHRoZSB0cmFja3MgdGhhdCBwYXJ0aWNpcGFudFxuICAgKiBoYXMgcHVibGlzaGVkXG4gICAqIEBwYXJhbSByb29tIC0gbmFtZSBvZiB0aGUgcm9vbVxuICAgKiBAcGFyYW0gaWRlbnRpdHkgLSBpZGVudGl0eSBvZiB0aGUgcGFydGljaXBhbnQgdG8gcmV0dXJuXG4gICAqL1xuICBhc3luYyBnZXRQYXJ0aWNpcGFudChyb29tLCBpZGVudGl0eSkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJHZXRQYXJ0aWNpcGFudFwiLFxuICAgICAgbmV3IFJvb21QYXJ0aWNpcGFudElkZW50aXR5KHsgcm9vbSwgaWRlbnRpdHkgfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSlcbiAgICApO1xuICAgIHJldHVybiBQYXJ0aWNpcGFudEluZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgcGFydGljaXBhbnQgaW4gdGhlIHJvb20uIFRoaXMgd2lsbCBkaXNjb25uZWN0IHRoZSBwYXJ0aWNpcGFudFxuICAgKiBhbmQgd2lsbCBlbWl0IGEgRGlzY29ubmVjdGVkIGV2ZW50IGZvciB0aGF0IHBhcnRpY2lwYW50LlxuICAgKiBFdmVuIGFmdGVyIGJlaW5nIHJlbW92ZWQsIHRoZSBwYXJ0aWNpcGFudCBjYW4gc3RpbGwgcmUtam9pbiB0aGUgcm9vbS5cbiAgICogQHBhcmFtIHJvb20gLVxuICAgKiBAcGFyYW0gaWRlbnRpdHkgLVxuICAgKi9cbiAgYXN5bmMgcmVtb3ZlUGFydGljaXBhbnQocm9vbSwgaWRlbnRpdHkpIHtcbiAgICBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJSZW1vdmVQYXJ0aWNpcGFudFwiLFxuICAgICAgbmV3IFJvb21QYXJ0aWNpcGFudElkZW50aXR5KHsgcm9vbSwgaWRlbnRpdHkgfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSlcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBGb3J3YXJkcyBhIHBhcnRpY2lwYW50J3MgdHJhY2sgdG8gYW5vdGhlciByb29tLiBUaGlzIHdpbGwgY3JlYXRlIGFcbiAgICogcGFydGljaXBhbnQgdG8gam9pbiB0aGUgZGVzdGluYXRpb24gcm9vbSB0aGF0IGhhcyBzYW1lIGluZm9ybWF0aW9uXG4gICAqIHdpdGggdGhlIHNvdXJjZSBwYXJ0aWNpcGFudCBleGNlcHQgdGhlIGtpbmQgdG8gYmUgYEZvcndhcmRlZGAuIEFsbFxuICAgKiBjaGFuZ2VzIHRvIHRoZSBzb3VyY2UgcGFydGljaXBhbnQgd2lsbCBiZSByZWZsZWN0ZWQgdG8gdGhlIGZvcndhcmRlZFxuICAgKiBwYXJ0aWNpcGFudC4gV2hlbiB0aGUgc291cmNlIHBhcnRpY2lwYW50IGRpc2Nvbm5lY3RzIG9yIHRoZVxuICAgKiBgUmVtb3ZlUGFydGljaXBhbnRgIG1ldGhvZCBpcyBjYWxsZWQgaW4gdGhlIGRlc3RpbmF0aW9uIHJvb20sIHRoZVxuICAgKiBmb3J3YXJkaW5nIHdpbGwgYmUgc3RvcHBlZC5cbiAgICovXG4gIGFzeW5jIGZvcndhcmRQYXJ0aWNpcGFudChyb29tLCBpZGVudGl0eSwgZGVzdGluYXRpb25Sb29tKSB7XG4gICAgYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiRm9yd2FyZFBhcnRpY2lwYW50XCIsXG4gICAgICBuZXcgRm9yd2FyZFBhcnRpY2lwYW50UmVxdWVzdCh7IHJvb20sIGlkZW50aXR5LCBkZXN0aW5hdGlvblJvb20gfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20sIGRlc3RpbmF0aW9uUm9vbSB9KVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIE11dGVzIGEgdHJhY2sgdGhhdCB0aGUgcGFydGljaXBhbnQgaGFzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHJvb20gLVxuICAgKiBAcGFyYW0gaWRlbnRpdHkgLVxuICAgKiBAcGFyYW0gdHJhY2tTaWQgLSBzaWQgb2YgdGhlIHRyYWNrIHRvIGJlIG11dGVkXG4gICAqIEBwYXJhbSBtdXRlZCAtIHRydWUgdG8gbXV0ZSwgZmFsc2UgdG8gdW5tdXRlXG4gICAqL1xuICBhc3luYyBtdXRlUHVibGlzaGVkVHJhY2socm9vbSwgaWRlbnRpdHksIHRyYWNrU2lkLCBtdXRlZCkge1xuICAgIGNvbnN0IHJlcSA9IG5ldyBNdXRlUm9vbVRyYWNrUmVxdWVzdCh7XG4gICAgICByb29tLFxuICAgICAgaWRlbnRpdHksXG4gICAgICB0cmFja1NpZCxcbiAgICAgIG11dGVkXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIk11dGVQdWJsaXNoZWRUcmFja1wiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pXG4gICAgKTtcbiAgICBjb25zdCByZXMgPSBNdXRlUm9vbVRyYWNrUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIHJldHVybiByZXMudHJhY2s7XG4gIH1cbiAgYXN5bmMgdXBkYXRlUGFydGljaXBhbnQocm9vbSwgaWRlbnRpdHksIG1ldGFkYXRhT3JPcHRpb25zLCBtYXliZVBlcm1pc3Npb24sIG1heWJlTmFtZSkge1xuICAgIGNvbnN0IGhhc09wdGlvbnMgPSB0eXBlb2YgbWV0YWRhdGFPck9wdGlvbnMgPT09IFwib2JqZWN0XCI7XG4gICAgY29uc3QgbWV0YWRhdGEgPSBoYXNPcHRpb25zID8gbWV0YWRhdGFPck9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1ldGFkYXRhT3JPcHRpb25zLm1ldGFkYXRhIDogbWV0YWRhdGFPck9wdGlvbnM7XG4gICAgY29uc3QgcGVybWlzc2lvbiA9IGhhc09wdGlvbnMgPyBtZXRhZGF0YU9yT3B0aW9ucy5wZXJtaXNzaW9uIDogbWF5YmVQZXJtaXNzaW9uO1xuICAgIGNvbnN0IG5hbWUgPSBoYXNPcHRpb25zID8gbWV0YWRhdGFPck9wdGlvbnMubmFtZSA6IG1heWJlTmFtZTtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gaGFzT3B0aW9ucyA/IG1ldGFkYXRhT3JPcHRpb25zLmF0dHJpYnV0ZXMgOiB7fTtcbiAgICBjb25zdCByZXEgPSBuZXcgVXBkYXRlUGFydGljaXBhbnRSZXF1ZXN0KHtcbiAgICAgIHJvb20sXG4gICAgICBpZGVudGl0eSxcbiAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICBtZXRhZGF0YSxcbiAgICAgIG5hbWVcbiAgICB9KTtcbiAgICBpZiAocGVybWlzc2lvbikge1xuICAgICAgcmVxLnBlcm1pc3Npb24gPSBuZXcgUGFydGljaXBhbnRQZXJtaXNzaW9uKHBlcm1pc3Npb24pO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiVXBkYXRlUGFydGljaXBhbnRcIixcbiAgICAgIHJlcS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21BZG1pbjogdHJ1ZSwgcm9vbSB9KVxuICAgICk7XG4gICAgcmV0dXJuIFBhcnRpY2lwYW50SW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBwYXJ0aWNpcGFudCdzIHN1YnNjcmlwdGlvbiB0byB0cmFja3NcbiAgICogQHBhcmFtIHJvb20gLVxuICAgKiBAcGFyYW0gaWRlbnRpdHkgLVxuICAgKiBAcGFyYW0gdHJhY2tTaWRzIC1cbiAgICogQHBhcmFtIHN1YnNjcmliZSAtIHRydWUgdG8gc3Vic2NyaWJlLCBmYWxzZSB0byB1bnN1YnNjcmliZVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlU3Vic2NyaXB0aW9ucyhyb29tLCBpZGVudGl0eSwgdHJhY2tTaWRzLCBzdWJzY3JpYmUpIHtcbiAgICBjb25zdCByZXEgPSBuZXcgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Qoe1xuICAgICAgcm9vbSxcbiAgICAgIGlkZW50aXR5LFxuICAgICAgdHJhY2tTaWRzLFxuICAgICAgc3Vic2NyaWJlLFxuICAgICAgcGFydGljaXBhbnRUcmFja3M6IFtdXG4gICAgfSkudG9Kc29uKCk7XG4gICAgYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiVXBkYXRlU3Vic2NyaXB0aW9uc1wiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pXG4gICAgKTtcbiAgfVxuICBhc3luYyBzZW5kRGF0YShyb29tLCBkYXRhLCBraW5kLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBkZXN0aW5hdGlvblNpZHMgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMpID8gb3B0aW9ucyA6IG9wdGlvbnMuZGVzdGluYXRpb25TaWRzO1xuICAgIGNvbnN0IHRvcGljID0gQXJyYXkuaXNBcnJheShvcHRpb25zKSA/IHZvaWQgMCA6IG9wdGlvbnMudG9waWM7XG4gICAgY29uc3QgcmVxID0gbmV3IFNlbmREYXRhUmVxdWVzdCh7XG4gICAgICByb29tLFxuICAgICAgZGF0YSxcbiAgICAgIGtpbmQsXG4gICAgICBkZXN0aW5hdGlvblNpZHM6IGRlc3RpbmF0aW9uU2lkcyA/PyBbXSxcbiAgICAgIHRvcGljXG4gICAgfSk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdGlvbnMpICYmIG9wdGlvbnMuZGVzdGluYXRpb25JZGVudGl0aWVzKSB7XG4gICAgICByZXEuZGVzdGluYXRpb25JZGVudGl0aWVzID0gb3B0aW9ucy5kZXN0aW5hdGlvbklkZW50aXRpZXM7XG4gICAgfVxuICAgIHJlcS5ub25jZSA9IGF3YWl0IGdldFJhbmRvbUJ5dGVzKDE2KTtcbiAgICBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJTZW5kRGF0YVwiLFxuICAgICAgcmVxLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pXG4gICAgKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgUm9vbVNlcnZpY2VDbGllbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb29tU2VydmljZUNsaWVudC5qcy5tYXAiXSwibmFtZXMiOlsiQ3JlYXRlUm9vbVJlcXVlc3QiLCJEZWxldGVSb29tUmVxdWVzdCIsIkZvcndhcmRQYXJ0aWNpcGFudFJlcXVlc3QiLCJMaXN0UGFydGljaXBhbnRzUmVxdWVzdCIsIkxpc3RQYXJ0aWNpcGFudHNSZXNwb25zZSIsIkxpc3RSb29tc1JlcXVlc3QiLCJMaXN0Um9vbXNSZXNwb25zZSIsIk11dGVSb29tVHJhY2tSZXF1ZXN0IiwiTXV0ZVJvb21UcmFja1Jlc3BvbnNlIiwiUGFydGljaXBhbnRJbmZvIiwiUGFydGljaXBhbnRQZXJtaXNzaW9uIiwiUm9vbSIsIlJvb21QYXJ0aWNpcGFudElkZW50aXR5IiwiU2VuZERhdGFSZXF1ZXN0IiwiVXBkYXRlUGFydGljaXBhbnRSZXF1ZXN0IiwiVXBkYXRlUm9vbU1ldGFkYXRhUmVxdWVzdCIsIlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0IiwiU2VydmljZUJhc2UiLCJUd2lycFJwYyIsImxpdmVraXRQYWNrYWdlIiwiZ2V0UmFuZG9tQnl0ZXMiLCJzdmMiLCJSb29tU2VydmljZUNsaWVudCIsImNvbnN0cnVjdG9yIiwiaG9zdCIsImFwaUtleSIsInNlY3JldCIsInJwYyIsImNyZWF0ZVJvb20iLCJvcHRpb25zIiwiZGF0YSIsInJlcXVlc3QiLCJ0b0pzb24iLCJhdXRoSGVhZGVyIiwicm9vbUNyZWF0ZSIsImZyb21Kc29uIiwiaWdub3JlVW5rbm93bkZpZWxkcyIsImxpc3RSb29tcyIsIm5hbWVzIiwicm9vbUxpc3QiLCJyZXMiLCJyb29tcyIsImRlbGV0ZVJvb20iLCJyb29tIiwidXBkYXRlUm9vbU1ldGFkYXRhIiwibWV0YWRhdGEiLCJyb29tQWRtaW4iLCJsaXN0UGFydGljaXBhbnRzIiwicGFydGljaXBhbnRzIiwiZ2V0UGFydGljaXBhbnQiLCJpZGVudGl0eSIsInJlbW92ZVBhcnRpY2lwYW50IiwiZm9yd2FyZFBhcnRpY2lwYW50IiwiZGVzdGluYXRpb25Sb29tIiwibXV0ZVB1Ymxpc2hlZFRyYWNrIiwidHJhY2tTaWQiLCJtdXRlZCIsInJlcSIsInRyYWNrIiwidXBkYXRlUGFydGljaXBhbnQiLCJtZXRhZGF0YU9yT3B0aW9ucyIsIm1heWJlUGVybWlzc2lvbiIsIm1heWJlTmFtZSIsImhhc09wdGlvbnMiLCJwZXJtaXNzaW9uIiwibmFtZSIsImF0dHJpYnV0ZXMiLCJ1cGRhdGVTdWJzY3JpcHRpb25zIiwidHJhY2tTaWRzIiwic3Vic2NyaWJlIiwicGFydGljaXBhbnRUcmFja3MiLCJzZW5kRGF0YSIsImtpbmQiLCJkZXN0aW5hdGlvblNpZHMiLCJBcnJheSIsImlzQXJyYXkiLCJ0b3BpYyIsImRlc3RpbmF0aW9uSWRlbnRpdGllcyIsIm5vbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/RoomServiceClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js":
/*!*************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/ServiceBase.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServiceBase: () => (/* binding */ ServiceBase)\n/* harmony export */ });\n/* harmony import */ var _AccessToken_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AccessToken.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js\");\n\nclass ServiceBase {\n    /**\n   * @param apiKey - API Key.\n   * @param secret - API Secret.\n   * @param ttl - token TTL\n   */ constructor(apiKey, secret, ttl){\n        this.apiKey = apiKey;\n        this.secret = secret;\n        this.ttl = ttl || \"10m\";\n    }\n    async authHeader(grant, sip) {\n        const at = new _AccessToken_js__WEBPACK_IMPORTED_MODULE_0__.AccessToken(this.apiKey, this.secret, {\n            ttl: this.ttl\n        });\n        if (grant) {\n            at.addGrant(grant);\n        }\n        if (sip) {\n            at.addSIPGrant(sip);\n        }\n        return {\n            Authorization: `Bearer ${await at.toJwt()}`\n        };\n    }\n}\n //# sourceMappingURL=ServiceBase.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvU2VydmljZUJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDL0MsTUFBTUM7SUFDSjs7OztHQUlDLEdBQ0RDLFlBQVlDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxHQUFHLENBQUU7UUFDL0IsSUFBSSxDQUFDRixNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxHQUFHLEdBQUdBLE9BQU87SUFDcEI7SUFDQSxNQUFNQyxXQUFXQyxLQUFLLEVBQUVDLEdBQUcsRUFBRTtRQUMzQixNQUFNQyxLQUFLLElBQUlULHdEQUFXQSxDQUFDLElBQUksQ0FBQ0csTUFBTSxFQUFFLElBQUksQ0FBQ0MsTUFBTSxFQUFFO1lBQUVDLEtBQUssSUFBSSxDQUFDQSxHQUFHO1FBQUM7UUFDckUsSUFBSUUsT0FBTztZQUNURSxHQUFHQyxRQUFRLENBQUNIO1FBQ2Q7UUFDQSxJQUFJQyxLQUFLO1lBQ1BDLEdBQUdFLFdBQVcsQ0FBQ0g7UUFDakI7UUFDQSxPQUFPO1lBQ0xJLGVBQWUsQ0FBQyxPQUFPLEVBQUUsTUFBTUgsR0FBR0ksS0FBSyxHQUFHLENBQUM7UUFDN0M7SUFDRjtBQUNGO0FBR0UsQ0FDRix1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmltYS1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L1NlcnZpY2VCYXNlLmpzP2VmN2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWNjZXNzVG9rZW4gfSBmcm9tIFwiLi9BY2Nlc3NUb2tlbi5qc1wiO1xuY2xhc3MgU2VydmljZUJhc2Uge1xuICAvKipcbiAgICogQHBhcmFtIGFwaUtleSAtIEFQSSBLZXkuXG4gICAqIEBwYXJhbSBzZWNyZXQgLSBBUEkgU2VjcmV0LlxuICAgKiBAcGFyYW0gdHRsIC0gdG9rZW4gVFRMXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhcGlLZXksIHNlY3JldCwgdHRsKSB7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5zZWNyZXQgPSBzZWNyZXQ7XG4gICAgdGhpcy50dGwgPSB0dGwgfHwgXCIxMG1cIjtcbiAgfVxuICBhc3luYyBhdXRoSGVhZGVyKGdyYW50LCBzaXApIHtcbiAgICBjb25zdCBhdCA9IG5ldyBBY2Nlc3NUb2tlbih0aGlzLmFwaUtleSwgdGhpcy5zZWNyZXQsIHsgdHRsOiB0aGlzLnR0bCB9KTtcbiAgICBpZiAoZ3JhbnQpIHtcbiAgICAgIGF0LmFkZEdyYW50KGdyYW50KTtcbiAgICB9XG4gICAgaWYgKHNpcCkge1xuICAgICAgYXQuYWRkU0lQR3JhbnQoc2lwKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthd2FpdCBhdC50b0p3dCgpfWBcbiAgICB9O1xuICB9XG59XG5leHBvcnQge1xuICBTZXJ2aWNlQmFzZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlcnZpY2VCYXNlLmpzLm1hcCJdLCJuYW1lcyI6WyJBY2Nlc3NUb2tlbiIsIlNlcnZpY2VCYXNlIiwiY29uc3RydWN0b3IiLCJhcGlLZXkiLCJzZWNyZXQiLCJ0dGwiLCJhdXRoSGVhZGVyIiwiZ3JhbnQiLCJzaXAiLCJhdCIsImFkZEdyYW50IiwiYWRkU0lQR3JhbnQiLCJBdXRob3JpemF0aW9uIiwidG9Kd3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/SipClient.js":
/*!***********************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/SipClient.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SipClient: () => (/* binding */ SipClient)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(rsc)/./node_modules/@bufbuild/protobuf/dist/esm/google/protobuf/duration_pb.js\");\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\n\nconst svc = \"SIP\";\nclass SipClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n   * @param number - phone number of the trunk\n   * @param opts - CreateSipTrunkOptions\n   * @deprecated use `createSipInboundTrunk` or `createSipOutboundTrunk`\n   */ async createSipTrunk(number, opts) {\n        let inboundAddresses;\n        let inboundNumbers;\n        let inboundUsername = \"\";\n        let inboundPassword = \"\";\n        let outboundAddress = \"\";\n        let outboundUsername = \"\";\n        let outboundPassword = \"\";\n        let name = \"\";\n        let metadata = \"\";\n        if (opts !== void 0) {\n            inboundAddresses = opts.inbound_addresses;\n            inboundNumbers = opts.inbound_numbers;\n            inboundUsername = opts.inbound_username || \"\";\n            inboundPassword = opts.inbound_password || \"\";\n            outboundAddress = opts.outbound_address || \"\";\n            outboundUsername = opts.outbound_username || \"\";\n            outboundPassword = opts.outbound_password || \"\";\n            name = opts.name || \"\";\n            metadata = opts.metadata || \"\";\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPTrunkRequest({\n            name,\n            metadata,\n            inboundAddresses,\n            inboundNumbers,\n            inboundUsername,\n            inboundPassword,\n            outboundNumber: number,\n            outboundAddress,\n            outboundUsername,\n            outboundPassword\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPTrunk\", req, await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTrunkInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param name - human-readable name of the trunk\n   * @param numbers - phone numbers of the trunk\n   * @param opts - CreateSipTrunkOptions\n   */ async createSipInboundTrunk(name, numbers, opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPInboundTrunkRequest({\n            trunk: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPInboundTrunkInfo({\n                name,\n                numbers,\n                metadata: opts == null ? void 0 : opts.metadata,\n                allowedAddresses: opts.allowedAddresses ?? opts.allowed_addresses,\n                allowedNumbers: opts.allowedNumbers ?? opts.allowed_numbers,\n                authUsername: opts.authUsername ?? opts.auth_username,\n                authPassword: opts.authPassword ?? opts.auth_password,\n                headers: opts.headers,\n                headersToAttributes: opts.headersToAttributes,\n                includeHeaders: opts.includeHeaders,\n                krispEnabled: opts.krispEnabled\n            })\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPInboundTrunk\", req, await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPInboundTrunkInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param name - human-readable name of the trunk\n   * @param address - hostname and port of the SIP server to dial\n   * @param numbers - phone numbers of the trunk\n   * @param opts - CreateSipTrunkOptions\n   */ async createSipOutboundTrunk(name, address, numbers, opts) {\n        if (opts === void 0) {\n            opts = {\n                transport: _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTransport.SIP_TRANSPORT_AUTO\n            };\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPOutboundTrunkRequest({\n            trunk: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPOutboundTrunkInfo({\n                name,\n                address,\n                numbers,\n                metadata: opts.metadata,\n                transport: opts.transport,\n                authUsername: opts.authUsername ?? opts.auth_username,\n                authPassword: opts.authPassword ?? opts.auth_password,\n                headers: opts.headers,\n                headersToAttributes: opts.headersToAttributes,\n                includeHeaders: opts.includeHeaders\n            })\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPOutboundTrunk\", req, await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPOutboundTrunkInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @deprecated use `listSipInboundTrunk` or `listSipOutboundTrunk`\n   */ async listSipTrunk() {\n        const req = {};\n        const data = await this.rpc.request(svc, \"ListSIPTrunk\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPTrunkRequest(req).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPTrunkResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    async listSipInboundTrunk() {\n        const req = {};\n        const data = await this.rpc.request(svc, \"ListSIPInboundTrunk\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPInboundTrunkRequest(req).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPInboundTrunkResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    async listSipOutboundTrunk() {\n        const req = {};\n        const data = await this.rpc.request(svc, \"ListSIPOutboundTrunk\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPOutboundTrunkRequest(req).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPOutboundTrunkResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    /**\n   * @param sipTrunkId - sip trunk to delete\n   */ async deleteSipTrunk(sipTrunkId) {\n        const data = await this.rpc.request(svc, \"DeleteSIPTrunk\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteSIPTrunkRequest({\n            sipTrunkId\n        }).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTrunkInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param rule - sip dispatch rule\n   * @param opts - CreateSipDispatchRuleOptions\n   */ async createSipDispatchRule(rule, opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        let ruleProto = void 0;\n        if (rule.type == \"direct\") {\n            ruleProto = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRule({\n                rule: {\n                    case: \"dispatchRuleDirect\",\n                    value: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleDirect({\n                        roomName: rule.roomName,\n                        pin: rule.pin || \"\"\n                    })\n                }\n            });\n        } else if (rule.type == \"individual\") {\n            ruleProto = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRule({\n                rule: {\n                    case: \"dispatchRuleIndividual\",\n                    value: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleIndividual({\n                        roomPrefix: rule.roomPrefix,\n                        pin: rule.pin || \"\"\n                    })\n                }\n            });\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPDispatchRuleRequest({\n            rule: ruleProto,\n            trunkIds: opts.trunkIds,\n            hidePhoneNumber: opts.hidePhoneNumber,\n            name: opts.name,\n            metadata: opts.metadata,\n            attributes: opts.attributes,\n            roomPreset: opts.roomPreset,\n            roomConfig: opts.roomConfig\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPDispatchRule\", req, await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    async listSipDispatchRule() {\n        const req = {};\n        const data = await this.rpc.request(svc, \"ListSIPDispatchRule\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPDispatchRuleRequest(req).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPDispatchRuleResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    /**\n   * @param sipDispatchRuleId - sip trunk to delete\n   */ async deleteSipDispatchRule(sipDispatchRuleId) {\n        const data = await this.rpc.request(svc, \"DeleteSIPDispatchRule\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteSIPDispatchRuleRequest({\n            sipDispatchRuleId\n        }).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param sipTrunkId - sip trunk to use for the call\n   * @param number - number to dial\n   * @param roomName - room to attach the call to\n   * @param opts - CreateSipParticipantOptions\n   */ async createSipParticipant(sipTrunkId, number, roomName, opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPParticipantRequest({\n            sipTrunkId,\n            sipCallTo: number,\n            sipNumber: opts.fromNumber,\n            roomName,\n            participantIdentity: opts.participantIdentity || \"sip-participant\",\n            participantName: opts.participantName,\n            participantMetadata: opts.participantMetadata,\n            participantAttributes: opts.participantAttributes,\n            dtmf: opts.dtmf,\n            playDialtone: opts.playDialtone ?? opts.playRingtone,\n            headers: opts.headers,\n            hidePhoneNumber: opts.hidePhoneNumber,\n            includeHeaders: opts.includeHeaders,\n            ringingTimeout: opts.ringingTimeout ? new _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__.Duration({\n                seconds: BigInt(opts.ringingTimeout)\n            }) : void 0,\n            maxCallDuration: opts.maxCallDuration ? new _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__.Duration({\n                seconds: BigInt(opts.maxCallDuration)\n            }) : void 0,\n            krispEnabled: opts.krispEnabled\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPParticipant\", req, await this.authHeader({}, {\n            call: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPParticipantInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param roomName - room the SIP participant to transfer is connectd to\n   * @param participantIdentity - identity of the SIP participant to transfer\n   * @param transferTo - SIP URL to transfer the participant to\n   */ async transferSipParticipant(roomName, participantIdentity, transferTo, opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TransferSIPParticipantRequest({\n            participantIdentity,\n            roomName,\n            transferTo,\n            playDialtone: opts.playDialtone,\n            headers: opts.headers\n        }).toJson();\n        await this.rpc.request(svc, \"TransferSIPParticipant\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }, {\n            call: true\n        }));\n    }\n}\n //# sourceMappingURL=SipClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvU2lwQ2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDO0FBMkJuQjtBQUNvQjtBQUNVO0FBQ3pELE1BQU02QixNQUFNO0FBQ1osTUFBTUMsa0JBQWtCSix3REFBV0E7SUFDakM7Ozs7R0FJQyxHQUNESyxZQUFZQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsTUFBTSxDQUFFO1FBQ2hDLEtBQUssQ0FBQ0QsUUFBUUM7UUFDZCxJQUFJLENBQUNDLEdBQUcsR0FBRyxJQUFJUixrREFBUUEsQ0FBQ0ssTUFBTUosd0RBQWNBO0lBQzlDO0lBQ0E7Ozs7R0FJQyxHQUNELE1BQU1RLGVBQWVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFO1FBQ2pDLElBQUlDO1FBQ0osSUFBSUM7UUFDSixJQUFJQyxrQkFBa0I7UUFDdEIsSUFBSUMsa0JBQWtCO1FBQ3RCLElBQUlDLGtCQUFrQjtRQUN0QixJQUFJQyxtQkFBbUI7UUFDdkIsSUFBSUMsbUJBQW1CO1FBQ3ZCLElBQUlDLE9BQU87UUFDWCxJQUFJQyxXQUFXO1FBQ2YsSUFBSVQsU0FBUyxLQUFLLEdBQUc7WUFDbkJDLG1CQUFtQkQsS0FBS1UsaUJBQWlCO1lBQ3pDUixpQkFBaUJGLEtBQUtXLGVBQWU7WUFDckNSLGtCQUFrQkgsS0FBS1ksZ0JBQWdCLElBQUk7WUFDM0NSLGtCQUFrQkosS0FBS2EsZ0JBQWdCLElBQUk7WUFDM0NSLGtCQUFrQkwsS0FBS2MsZ0JBQWdCLElBQUk7WUFDM0NSLG1CQUFtQk4sS0FBS2UsaUJBQWlCLElBQUk7WUFDN0NSLG1CQUFtQlAsS0FBS2dCLGlCQUFpQixJQUFJO1lBQzdDUixPQUFPUixLQUFLUSxJQUFJLElBQUk7WUFDcEJDLFdBQVdULEtBQUtTLFFBQVEsSUFBSTtRQUM5QjtRQUNBLE1BQU1RLE1BQU0sSUFBSWxELG9FQUFxQkEsQ0FBQztZQUNwQ3lDO1lBQ0FDO1lBQ0FSO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lB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TTJELHVCQUF1QjNCLFFBQVEsRUFBRWUsbUJBQW1CLEVBQUVhLFVBQVUsRUFBRXJGLElBQUksRUFBRTtRQUM1RSxJQUFJQSxTQUFTLEtBQUssR0FBRztZQUNuQkEsT0FBTyxDQUFDO1FBQ1Y7UUFDQSxNQUFNaUIsTUFBTSxJQUFJOUIsNEVBQTZCQSxDQUFDO1lBQzVDcUY7WUFDQWY7WUFDQTRCO1lBQ0FSLGNBQWM3RSxLQUFLNkUsWUFBWTtZQUMvQnhDLFNBQVNyQyxLQUFLcUMsT0FBTztRQUN2QixHQUFHbEIsTUFBTTtRQUNULE1BQU0sSUFBSSxDQUFDdEIsR0FBRyxDQUFDd0IsT0FBTyxDQUNwQjlCLEtBQ0EsMEJBQ0EwQixLQUNBLE1BQU0sSUFBSSxDQUFDSyxVQUFVLENBQUM7WUFBRWdFLFdBQVc7WUFBTUMsTUFBTTlCO1FBQVMsR0FBRztZQUFFMEIsTUFBTTtRQUFLO0lBRTVFO0FBQ0Y7QUFHRSxDQUNGLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FuaW1hLXByb2plY3QvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvU2lwQ2xpZW50LmpzPzUwMGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRHVyYXRpb24gfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmXCI7XG5pbXBvcnQge1xuICBDcmVhdGVTSVBEaXNwYXRjaFJ1bGVSZXF1ZXN0LFxuICBDcmVhdGVTSVBJbmJvdW5kVHJ1bmtSZXF1ZXN0LFxuICBDcmVhdGVTSVBPdXRib3VuZFRydW5rUmVxdWVzdCxcbiAgQ3JlYXRlU0lQUGFydGljaXBhbnRSZXF1ZXN0LFxuICBDcmVhdGVTSVBUcnVua1JlcXVlc3QsXG4gIERlbGV0ZVNJUERpc3BhdGNoUnVsZVJlcXVlc3QsXG4gIERlbGV0ZVNJUFRydW5rUmVxdWVzdCxcbiAgTGlzdFNJUERpc3BhdGNoUnVsZVJlcXVlc3QsXG4gIExpc3RTSVBEaXNwYXRjaFJ1bGVSZXNwb25zZSxcbiAgTGlzdFNJUEluYm91bmRUcnVua1JlcXVlc3QsXG4gIExpc3RTSVBJbmJvdW5kVHJ1bmtSZXNwb25zZSxcbiAgTGlzdFNJUE91dGJvdW5kVHJ1bmtSZXF1ZXN0LFxuICBMaXN0U0lQT3V0Ym91bmRUcnVua1Jlc3BvbnNlLFxuICBMaXN0U0lQVHJ1bmtSZXF1ZXN0LFxuICBMaXN0U0lQVHJ1bmtSZXNwb25zZSxcbiAgU0lQRGlzcGF0Y2hSdWxlLFxuICBTSVBEaXNwYXRjaFJ1bGVEaXJlY3QsXG4gIFNJUERpc3BhdGNoUnVsZUluZGl2aWR1YWwsXG4gIFNJUERpc3BhdGNoUnVsZUluZm8sXG4gIFNJUEluYm91bmRUcnVua0luZm8sXG4gIFNJUE91dGJvdW5kVHJ1bmtJbmZvLFxuICBTSVBQYXJ0aWNpcGFudEluZm8sXG4gIFNJUFRyYW5zcG9ydCxcbiAgU0lQVHJ1bmtJbmZvLFxuICBUcmFuc2ZlclNJUFBhcnRpY2lwYW50UmVxdWVzdFxufSBmcm9tIFwiQGxpdmVraXQvcHJvdG9jb2xcIjtcbmltcG9ydCB7IFNlcnZpY2VCYXNlIH0gZnJvbSBcIi4vU2VydmljZUJhc2UuanNcIjtcbmltcG9ydCB7IFR3aXJwUnBjLCBsaXZla2l0UGFja2FnZSB9IGZyb20gXCIuL1R3aXJwUlBDLmpzXCI7XG5jb25zdCBzdmMgPSBcIlNJUFwiO1xuY2xhc3MgU2lwQ2xpZW50IGV4dGVuZHMgU2VydmljZUJhc2Uge1xuICAvKipcbiAgICogQHBhcmFtIGhvc3QgLSBob3N0bmFtZSBpbmNsdWRpbmcgcHJvdG9jb2wuIGkuZS4gJ2h0dHBzOi8vPHByb2plY3Q+LmxpdmVraXQuY2xvdWQnXG4gICAqIEBwYXJhbSBhcGlLZXkgLSBBUEkgS2V5LCBjYW4gYmUgc2V0IGluIGVudiB2YXIgTElWRUtJVF9BUElfS0VZXG4gICAqIEBwYXJhbSBzZWNyZXQgLSBBUEkgU2VjcmV0LCBjYW4gYmUgc2V0IGluIGVudiB2YXIgTElWRUtJVF9BUElfU0VDUkVUXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihob3N0LCBhcGlLZXksIHNlY3JldCkge1xuICAgIHN1cGVyKGFwaUtleSwgc2VjcmV0KTtcbiAgICB0aGlzLnJwYyA9IG5ldyBUd2lycFJwYyhob3N0LCBsaXZla2l0UGFja2FnZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBudW1iZXIgLSBwaG9uZSBudW1iZXIgb2YgdGhlIHRydW5rXG4gICAqIEBwYXJhbSBvcHRzIC0gQ3JlYXRlU2lwVHJ1bmtPcHRpb25zXG4gICAqIEBkZXByZWNhdGVkIHVzZSBgY3JlYXRlU2lwSW5ib3VuZFRydW5rYCBvciBgY3JlYXRlU2lwT3V0Ym91bmRUcnVua2BcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVNpcFRydW5rKG51bWJlciwgb3B0cykge1xuICAgIGxldCBpbmJvdW5kQWRkcmVzc2VzO1xuICAgIGxldCBpbmJvdW5kTnVtYmVycztcbiAgICBsZXQgaW5ib3VuZFVzZXJuYW1lID0gXCJcIjtcbiAgICBsZXQgaW5ib3VuZFBhc3N3b3JkID0gXCJcIjtcbiAgICBsZXQgb3V0Ym91bmRBZGRyZXNzID0gXCJcIjtcbiAgICBsZXQgb3V0Ym91bmRVc2VybmFtZSA9IFwiXCI7XG4gICAgbGV0IG91dGJvdW5kUGFzc3dvcmQgPSBcIlwiO1xuICAgIGxldCBuYW1lID0gXCJcIjtcbiAgICBsZXQgbWV0YWRhdGEgPSBcIlwiO1xuICAgIGlmIChvcHRzICE9PSB2b2lkIDApIHtcbiAgICAgIGluYm91bmRBZGRyZXNzZXMgPSBvcHRzLmluYm91bmRfYWRkcmVzc2VzO1xuICAgICAgaW5ib3VuZE51bWJlcnMgPSBvcHRzLmluYm91bmRfbnVtYmVycztcbiAgICAgIGluYm91bmRVc2VybmFtZSA9IG9wdHMuaW5ib3VuZF91c2VybmFtZSB8fCBcIlwiO1xuICAgICAgaW5ib3VuZFBhc3N3b3JkID0gb3B0cy5pbmJvdW5kX3Bhc3N3b3JkIHx8IFwiXCI7XG4gICAgICBvdXRib3VuZEFkZHJlc3MgPSBvcHRzLm91dGJvdW5kX2FkZHJlc3MgfHwgXCJcIjtcbiAgICAgIG91dGJvdW5kVXNlcm5hbWUgPSBvcHRzLm91dGJvdW5kX3VzZXJuYW1lIHx8IFwiXCI7XG4gICAgICBvdXRib3VuZFBhc3N3b3JkID0gb3B0cy5vdXRib3VuZF9wYXNzd29yZCB8fCBcIlwiO1xuICAgICAgbmFtZSA9IG9wdHMubmFtZSB8fCBcIlwiO1xuICAgICAgbWV0YWRhdGEgPSBvcHRzLm1ldGFkYXRhIHx8IFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHJlcSA9IG5ldyBDcmVhdGVTSVBUcnVua1JlcXVlc3Qoe1xuICAgICAgbmFtZSxcbiAgICAgIG1ldGFkYXRhLFxuICAgICAgaW5ib3VuZEFkZHJlc3NlcyxcbiAgICAgIGluYm91bmROdW1iZXJzLFxuICAgICAgaW5ib3VuZFVzZXJuYW1lLFxuICAgICAgaW5ib3VuZFBhc3N3b3JkLFxuICAgICAgb3V0Ym91bmROdW1iZXI6IG51bWJlcixcbiAgICAgIG91dGJvdW5kQWRkcmVzcyxcbiAgICAgIG91dGJvdW5kVXNlcm5hbWUsXG4gICAgICBvdXRib3VuZFBhc3N3b3JkXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkNyZWF0ZVNJUFRydW5rXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBTSVBUcnVua0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gbmFtZSAtIGh1bWFuLXJlYWRhYmxlIG5hbWUgb2YgdGhlIHRydW5rXG4gICAqIEBwYXJhbSBudW1iZXJzIC0gcGhvbmUgbnVtYmVycyBvZiB0aGUgdHJ1bmtcbiAgICogQHBhcmFtIG9wdHMgLSBDcmVhdGVTaXBUcnVua09wdGlvbnNcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVNpcEluYm91bmRUcnVuayhuYW1lLCBudW1iZXJzLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCByZXEgPSBuZXcgQ3JlYXRlU0lQSW5ib3VuZFRydW5rUmVxdWVzdCh7XG4gICAgICB0cnVuazogbmV3IFNJUEluYm91bmRUcnVua0luZm8oe1xuICAgICAgICBuYW1lLFxuICAgICAgICBudW1iZXJzLFxuICAgICAgICBtZXRhZGF0YTogb3B0cyA9PSBudWxsID8gdm9pZCAwIDogb3B0cy5tZXRhZGF0YSxcbiAgICAgICAgYWxsb3dlZEFkZHJlc3Nlczogb3B0cy5hbGxvd2VkQWRkcmVzc2VzID8/IG9wdHMuYWxsb3dlZF9hZGRyZXNzZXMsXG4gICAgICAgIGFsbG93ZWROdW1iZXJzOiBvcHRzLmFsbG93ZWROdW1iZXJzID8/IG9wdHMuYWxsb3dlZF9udW1iZXJzLFxuICAgICAgICBhdXRoVXNlcm5hbWU6IG9wdHMuYXV0aFVzZXJuYW1lID8/IG9wdHMuYXV0aF91c2VybmFtZSxcbiAgICAgICAgYXV0aFBhc3N3b3JkOiBvcHRzLmF1dGhQYXNzd29yZCA/PyBvcHRzLmF1dGhfcGFzc3dvcmQsXG4gICAgICAgIGhlYWRlcnM6IG9wdHMuaGVhZGVycyxcbiAgICAgICAgaGVhZGVyc1RvQXR0cmlidXRlczogb3B0cy5oZWFkZXJzVG9BdHRyaWJ1dGVzLFxuICAgICAgICBpbmNsdWRlSGVhZGVyczogb3B0cy5pbmNsdWRlSGVhZGVycyxcbiAgICAgICAga3Jpc3BFbmFibGVkOiBvcHRzLmtyaXNwRW5hYmxlZFxuICAgICAgfSlcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiQ3JlYXRlU0lQSW5ib3VuZFRydW5rXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBTSVBJbmJvdW5kVHJ1bmtJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIG5hbWUgLSBodW1hbi1yZWFkYWJsZSBuYW1lIG9mIHRoZSB0cnVua1xuICAgKiBAcGFyYW0gYWRkcmVzcyAtIGhvc3RuYW1lIGFuZCBwb3J0IG9mIHRoZSBTSVAgc2VydmVyIHRvIGRpYWxcbiAgICogQHBhcmFtIG51bWJlcnMgLSBwaG9uZSBudW1iZXJzIG9mIHRoZSB0cnVua1xuICAgKiBAcGFyYW0gb3B0cyAtIENyZWF0ZVNpcFRydW5rT3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlU2lwT3V0Ym91bmRUcnVuayhuYW1lLCBhZGRyZXNzLCBudW1iZXJzLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHtcbiAgICAgICAgdHJhbnNwb3J0OiBTSVBUcmFuc3BvcnQuU0lQX1RSQU5TUE9SVF9BVVRPXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCByZXEgPSBuZXcgQ3JlYXRlU0lQT3V0Ym91bmRUcnVua1JlcXVlc3Qoe1xuICAgICAgdHJ1bms6IG5ldyBTSVBPdXRib3VuZFRydW5rSW5mbyh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFkZHJlc3MsXG4gICAgICAgIG51bWJlcnMsXG4gICAgICAgIG1ldGFkYXRhOiBvcHRzLm1ldGFkYXRhLFxuICAgICAgICB0cmFuc3BvcnQ6IG9wdHMudHJhbnNwb3J0LFxuICAgICAgICBhdXRoVXNlcm5hbWU6IG9wdHMuYXV0aFVzZXJuYW1lID8/IG9wdHMuYXV0aF91c2VybmFtZSxcbiAgICAgICAgYXV0aFBhc3N3b3JkOiBvcHRzLmF1dGhQYXNzd29yZCA/PyBvcHRzLmF1dGhfcGFzc3dvcmQsXG4gICAgICAgIGhlYWRlcnM6IG9wdHMuaGVhZGVycyxcbiAgICAgICAgaGVhZGVyc1RvQXR0cmlidXRlczogb3B0cy5oZWFkZXJzVG9BdHRyaWJ1dGVzLFxuICAgICAgICBpbmNsdWRlSGVhZGVyczogb3B0cy5pbmNsdWRlSGVhZGVyc1xuICAgICAgfSlcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiQ3JlYXRlU0lQT3V0Ym91bmRUcnVua1wiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGFkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gU0lQT3V0Ym91bmRUcnVua0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGxpc3RTaXBJbmJvdW5kVHJ1bmtgIG9yIGBsaXN0U2lwT3V0Ym91bmRUcnVua2BcbiAgICovXG4gIGFzeW5jIGxpc3RTaXBUcnVuaygpIHtcbiAgICBjb25zdCByZXEgPSB7fTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTGlzdFNJUFRydW5rXCIsXG4gICAgICBuZXcgTGlzdFNJUFRydW5rUmVxdWVzdChyZXEpLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGFkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gTGlzdFNJUFRydW5rUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pLml0ZW1zID8/IFtdO1xuICB9XG4gIGFzeW5jIGxpc3RTaXBJbmJvdW5kVHJ1bmsoKSB7XG4gICAgY29uc3QgcmVxID0ge307XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkxpc3RTSVBJbmJvdW5kVHJ1bmtcIixcbiAgICAgIG5ldyBMaXN0U0lQSW5ib3VuZFRydW5rUmVxdWVzdChyZXEpLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGFkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gTGlzdFNJUEluYm91bmRUcnVua1Jlc3BvbnNlLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KS5pdGVtcyA/PyBbXTtcbiAgfVxuICBhc3luYyBsaXN0U2lwT3V0Ym91bmRUcnVuaygpIHtcbiAgICBjb25zdCByZXEgPSB7fTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTGlzdFNJUE91dGJvdW5kVHJ1bmtcIixcbiAgICAgIG5ldyBMaXN0U0lQT3V0Ym91bmRUcnVua1JlcXVlc3QocmVxKS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7fSwgeyBhZG1pbjogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIExpc3RTSVBPdXRib3VuZFRydW5rUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pLml0ZW1zID8/IFtdO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gc2lwVHJ1bmtJZCAtIHNpcCB0cnVuayB0byBkZWxldGVcbiAgICovXG4gIGFzeW5jIGRlbGV0ZVNpcFRydW5rKHNpcFRydW5rSWQpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiRGVsZXRlU0lQVHJ1bmtcIixcbiAgICAgIG5ldyBEZWxldGVTSVBUcnVua1JlcXVlc3QoeyBzaXBUcnVua0lkIH0pLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGFkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gU0lQVHJ1bmtJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHJ1bGUgLSBzaXAgZGlzcGF0Y2ggcnVsZVxuICAgKiBAcGFyYW0gb3B0cyAtIENyZWF0ZVNpcERpc3BhdGNoUnVsZU9wdGlvbnNcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVNpcERpc3BhdGNoUnVsZShydWxlLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBsZXQgcnVsZVByb3RvID0gdm9pZCAwO1xuICAgIGlmIChydWxlLnR5cGUgPT0gXCJkaXJlY3RcIikge1xuICAgICAgcnVsZVByb3RvID0gbmV3IFNJUERpc3BhdGNoUnVsZSh7XG4gICAgICAgIHJ1bGU6IHtcbiAgICAgICAgICBjYXNlOiBcImRpc3BhdGNoUnVsZURpcmVjdFwiLFxuICAgICAgICAgIHZhbHVlOiBuZXcgU0lQRGlzcGF0Y2hSdWxlRGlyZWN0KHtcbiAgICAgICAgICAgIHJvb21OYW1lOiBydWxlLnJvb21OYW1lLFxuICAgICAgICAgICAgcGluOiBydWxlLnBpbiB8fCBcIlwiXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChydWxlLnR5cGUgPT0gXCJpbmRpdmlkdWFsXCIpIHtcbiAgICAgIHJ1bGVQcm90byA9IG5ldyBTSVBEaXNwYXRjaFJ1bGUoe1xuICAgICAgICBydWxlOiB7XG4gICAgICAgICAgY2FzZTogXCJkaXNwYXRjaFJ1bGVJbmRpdmlkdWFsXCIsXG4gICAgICAgICAgdmFsdWU6IG5ldyBTSVBEaXNwYXRjaFJ1bGVJbmRpdmlkdWFsKHtcbiAgICAgICAgICAgIHJvb21QcmVmaXg6IHJ1bGUucm9vbVByZWZpeCxcbiAgICAgICAgICAgIHBpbjogcnVsZS5waW4gfHwgXCJcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCByZXEgPSBuZXcgQ3JlYXRlU0lQRGlzcGF0Y2hSdWxlUmVxdWVzdCh7XG4gICAgICBydWxlOiBydWxlUHJvdG8sXG4gICAgICB0cnVua0lkczogb3B0cy50cnVua0lkcyxcbiAgICAgIGhpZGVQaG9uZU51bWJlcjogb3B0cy5oaWRlUGhvbmVOdW1iZXIsXG4gICAgICBuYW1lOiBvcHRzLm5hbWUsXG4gICAgICBtZXRhZGF0YTogb3B0cy5tZXRhZGF0YSxcbiAgICAgIGF0dHJpYnV0ZXM6IG9wdHMuYXR0cmlidXRlcyxcbiAgICAgIHJvb21QcmVzZXQ6IG9wdHMucm9vbVByZXNldCxcbiAgICAgIHJvb21Db25maWc6IG9wdHMucm9vbUNvbmZpZ1xuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJDcmVhdGVTSVBEaXNwYXRjaFJ1bGVcIixcbiAgICAgIHJlcSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7fSwgeyBhZG1pbjogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIFNJUERpc3BhdGNoUnVsZUluZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIGFzeW5jIGxpc3RTaXBEaXNwYXRjaFJ1bGUoKSB7XG4gICAgY29uc3QgcmVxID0ge307XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkxpc3RTSVBEaXNwYXRjaFJ1bGVcIixcbiAgICAgIG5ldyBMaXN0U0lQRGlzcGF0Y2hSdWxlUmVxdWVzdChyZXEpLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGFkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gTGlzdFNJUERpc3BhdGNoUnVsZVJlc3BvbnNlLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KS5pdGVtcyA/PyBbXTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHNpcERpc3BhdGNoUnVsZUlkIC0gc2lwIHRydW5rIHRvIGRlbGV0ZVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlU2lwRGlzcGF0Y2hSdWxlKHNpcERpc3BhdGNoUnVsZUlkKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkRlbGV0ZVNJUERpc3BhdGNoUnVsZVwiLFxuICAgICAgbmV3IERlbGV0ZVNJUERpc3BhdGNoUnVsZVJlcXVlc3QoeyBzaXBEaXNwYXRjaFJ1bGVJZCB9KS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7fSwgeyBhZG1pbjogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIFNJUERpc3BhdGNoUnVsZUluZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gc2lwVHJ1bmtJZCAtIHNpcCB0cnVuayB0byB1c2UgZm9yIHRoZSBjYWxsXG4gICAqIEBwYXJhbSBudW1iZXIgLSBudW1iZXIgdG8gZGlhbFxuICAgKiBAcGFyYW0gcm9vbU5hbWUgLSByb29tIHRvIGF0dGFjaCB0aGUgY2FsbCB0b1xuICAgKiBAcGFyYW0gb3B0cyAtIENyZWF0ZVNpcFBhcnRpY2lwYW50T3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlU2lwUGFydGljaXBhbnQoc2lwVHJ1bmtJZCwgbnVtYmVyLCByb29tTmFtZSwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgY29uc3QgcmVxID0gbmV3IENyZWF0ZVNJUFBhcnRpY2lwYW50UmVxdWVzdCh7XG4gICAgICBzaXBUcnVua0lkLFxuICAgICAgc2lwQ2FsbFRvOiBudW1iZXIsXG4gICAgICBzaXBOdW1iZXI6IG9wdHMuZnJvbU51bWJlcixcbiAgICAgIHJvb21OYW1lLFxuICAgICAgcGFydGljaXBhbnRJZGVudGl0eTogb3B0cy5wYXJ0aWNpcGFudElkZW50aXR5IHx8IFwic2lwLXBhcnRpY2lwYW50XCIsXG4gICAgICBwYXJ0aWNpcGFudE5hbWU6IG9wdHMucGFydGljaXBhbnROYW1lLFxuICAgICAgcGFydGljaXBhbnRNZXRhZGF0YTogb3B0cy5wYXJ0aWNpcGFudE1ldGFkYXRhLFxuICAgICAgcGFydGljaXBhbnRBdHRyaWJ1dGVzOiBvcHRzLnBhcnRpY2lwYW50QXR0cmlidXRlcyxcbiAgICAgIGR0bWY6IG9wdHMuZHRtZixcbiAgICAgIHBsYXlEaWFsdG9uZTogb3B0cy5wbGF5RGlhbHRvbmUgPz8gb3B0cy5wbGF5UmluZ3RvbmUsXG4gICAgICBoZWFkZXJzOiBvcHRzLmhlYWRlcnMsXG4gICAgICBoaWRlUGhvbmVOdW1iZXI6IG9wdHMuaGlkZVBob25lTnVtYmVyLFxuICAgICAgaW5jbHVkZUhlYWRlcnM6IG9wdHMuaW5jbHVkZUhlYWRlcnMsXG4gICAgICByaW5naW5nVGltZW91dDogb3B0cy5yaW5naW5nVGltZW91dCA/IG5ldyBEdXJhdGlvbih7IHNlY29uZHM6IEJpZ0ludChvcHRzLnJpbmdpbmdUaW1lb3V0KSB9KSA6IHZvaWQgMCxcbiAgICAgIG1heENhbGxEdXJhdGlvbjogb3B0cy5tYXhDYWxsRHVyYXRpb24gPyBuZXcgRHVyYXRpb24oeyBzZWNvbmRzOiBCaWdJbnQob3B0cy5tYXhDYWxsRHVyYXRpb24pIH0pIDogdm9pZCAwLFxuICAgICAga3Jpc3BFbmFibGVkOiBvcHRzLmtyaXNwRW5hYmxlZFxuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJDcmVhdGVTSVBQYXJ0aWNpcGFudFwiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGNhbGw6IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBTSVBQYXJ0aWNpcGFudEluZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gcm9vbU5hbWUgLSByb29tIHRoZSBTSVAgcGFydGljaXBhbnQgdG8gdHJhbnNmZXIgaXMgY29ubmVjdGQgdG9cbiAgICogQHBhcmFtIHBhcnRpY2lwYW50SWRlbnRpdHkgLSBpZGVudGl0eSBvZiB0aGUgU0lQIHBhcnRpY2lwYW50IHRvIHRyYW5zZmVyXG4gICAqIEBwYXJhbSB0cmFuc2ZlclRvIC0gU0lQIFVSTCB0byB0cmFuc2ZlciB0aGUgcGFydGljaXBhbnQgdG9cbiAgICovXG4gIGFzeW5jIHRyYW5zZmVyU2lwUGFydGljaXBhbnQocm9vbU5hbWUsIHBhcnRpY2lwYW50SWRlbnRpdHksIHRyYW5zZmVyVG8sIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIGNvbnN0IHJlcSA9IG5ldyBUcmFuc2ZlclNJUFBhcnRpY2lwYW50UmVxdWVzdCh7XG4gICAgICBwYXJ0aWNpcGFudElkZW50aXR5LFxuICAgICAgcm9vbU5hbWUsXG4gICAgICB0cmFuc2ZlclRvLFxuICAgICAgcGxheURpYWx0b25lOiBvcHRzLnBsYXlEaWFsdG9uZSxcbiAgICAgIGhlYWRlcnM6IG9wdHMuaGVhZGVyc1xuICAgIH0pLnRvSnNvbigpO1xuICAgIGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIlRyYW5zZmVyU0lQUGFydGljaXBhbnRcIixcbiAgICAgIHJlcSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21BZG1pbjogdHJ1ZSwgcm9vbTogcm9vbU5hbWUgfSwgeyBjYWxsOiB0cnVlIH0pXG4gICAgKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgU2lwQ2xpZW50XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2lwQ2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJEdXJhdGlvbiIsIkNyZWF0ZVNJUERpc3BhdGNoUnVsZVJlcXVlc3QiLCJDcmVhdGVTSVBJbmJvdW5kVHJ1bmtSZXF1ZXN0IiwiQ3JlYXRlU0lQT3V0Ym91bmRUcnVua1JlcXVlc3QiLCJDcmVhdGVTSVBQYXJ0aWNpcGFudFJlcXVlc3QiLCJDcmVhdGVTSVBUcnVua1JlcXVlc3QiLCJEZWxldGVTSVBEaXNwYXRjaFJ1bGVSZXF1ZXN0IiwiRGVsZXRlU0lQVHJ1bmtSZXF1ZXN0IiwiTGlzdFNJUERpc3BhdGNoUnVsZVJlcXVlc3QiLCJMaXN0U0lQRGlzcGF0Y2hSdWxlUmVzcG9uc2UiLCJMaXN0U0lQSW5ib3VuZFRydW5rUmVxdWVzdCIsIkxpc3RTSVBJbmJvdW5kVHJ1bmtSZXNwb25zZSIsIkxpc3RTSVBPdXRib3VuZFRydW5rUmVxdWVzdCIsIkxpc3RTSVBPdXRib3VuZFRydW5rUmVzcG9uc2UiLCJMaXN0U0lQVHJ1bmtSZXF1ZXN0IiwiTGlzdFNJUFRydW5rUmVzcG9uc2UiLCJTSVBEaXNwYXRjaFJ1bGUiLCJTSVBEaXNwYXRjaFJ1bGVEaXJlY3QiLCJTSVBEaXNwYXRjaFJ1bGVJbmRpdmlkdWFsIiwiU0lQRGlzcGF0Y2hSdWxlSW5mbyIsIlNJUEluYm91bmRUcnVua0luZm8iLCJTSVBPdXRib3VuZFRydW5rSW5mbyIsIlNJUFBhcnRpY2lwYW50SW5mbyIsIlNJUFRyYW5zcG9ydCIsIlNJUFRydW5rSW5mbyIsIlRyYW5zZmVyU0lQUGFydGljaXBhbnRSZXF1ZXN0IiwiU2VydmljZUJhc2UiLCJUd2lycFJwYyIsImxpdmVraXRQYWNrYWdlIiwic3ZjIiwiU2lwQ2xpZW50IiwiY29uc3RydWN0b3IiLCJob3N0IiwiYXBpS2V5Iiwic2VjcmV0IiwicnBjIiwiY3JlYXRlU2lwVHJ1bmsiLCJudW1iZXIiLCJvcHRzIiwiaW5ib3VuZEFkZHJlc3NlcyIsImluYm91bmROdW1iZXJzIiwiaW5ib3VuZFVzZXJuYW1lIiwiaW5ib3VuZFBhc3N3b3JkIiwib3V0Ym91bmRBZGRyZXNzIiwib3V0Ym91bmRVc2VybmFtZSIsIm91dGJvdW5kUGFzc3dvcmQiLCJuYW1lIiwibWV0YWRhdGEiLCJpbmJvdW5kX2FkZHJlc3NlcyIsImluYm91bmRfbnVtYmVycyIsImluYm91bmRfdXNlcm5hbWUiLCJpbmJvdW5kX3Bhc3N3b3JkIiwib3V0Ym91bmRfYWRkcmVzcyIsIm91dGJvdW5kX3VzZXJuYW1lIiwib3V0Ym91bmRfcGFzc3dvcmQiLCJyZXEiLCJvdXRib3VuZE51bWJlciIsInRvSnNvbiIsImRhdGEiLCJyZXF1ZXN0IiwiYXV0aEhlYWRlciIsImFkbWluIiwiZnJvbUpzb24iLCJpZ25vcmVVbmtub3duRmllbGRzIiwiY3JlYXRlU2lwSW5ib3VuZFRydW5rIiwibnVtYmVycyIsInRydW5rIiwiYWxsb3dlZEFkZHJlc3NlcyIsImFsbG93ZWRfYWRkcmVzc2VzIiwiYWxsb3dlZE51bWJlcnMiLCJhbGxvd2VkX251bWJlcnMiLCJhdXRoVXNlcm5hbWUiLCJhdXRoX3VzZXJuYW1lIiwiYXV0aFBhc3N3b3JkIiwiYXV0aF9wYXNzd29yZCIsImhlYWRlcnMiLCJoZWFkZXJzVG9BdHRyaWJ1dGVzIiwiaW5jbHVkZUhlYWRlcnMiLCJrcmlzcEVuYWJsZWQiLCJjcmVhdGVTaXBPdXRib3VuZFRydW5rIiwiYWRkcmVzcyIsInRyYW5zcG9ydCIsIlNJUF9UUkFOU1BPUlRfQVVUTyIsImxpc3RTaXBUcnVuayIsIml0ZW1zIiwibGlzdFNpcEluYm91bmRUcnVuayIsImxpc3RTaXBPdXRib3VuZFRydW5rIiwiZGVsZXRlU2lwVHJ1bmsiLCJzaXBUcnVua0lkIiwiY3JlYXRlU2lwRGlzcGF0Y2hSdWxlIiwicnVsZSIsInJ1bGVQcm90byIsInR5cGUiLCJjYXNlIiwidmFsdWUiLCJyb29tTmFtZSIsInBpbiIsInJvb21QcmVmaXgiLCJ0cnVua0lkcyIsImhpZGVQaG9uZU51bWJlciIsImF0dHJpYnV0ZXMiLCJyb29tUHJlc2V0Iiwicm9vbUNvbmZpZyIsImxpc3RTaXBEaXNwYXRjaFJ1bGUiLCJkZWxldGVTaXBEaXNwYXRjaFJ1bGUiLCJzaXBEaXNwYXRjaFJ1bGVJZCIsImNyZWF0ZVNpcFBhcnRpY2lwYW50Iiwic2lwQ2FsbFRvIiwic2lwTnVtYmVyIiwiZnJvbU51bWJlciIsInBhcnRpY2lwYW50SWRlbnRpdHkiLCJwYXJ0aWNpcGFudE5hbWUiLCJwYXJ0aWNpcGFudE1ldGFkYXRhIiwicGFydGljaXBhbnRBdHRyaWJ1dGVzIiwiZHRtZiIsInBsYXlEaWFsdG9uZSIsInBsYXlSaW5ndG9uZSIsInJpbmdpbmdUaW1lb3V0Iiwic2Vjb25kcyIsIkJpZ0ludCIsIm1heENhbGxEdXJhdGlvbiIsImNhbGwiLCJ0cmFuc2ZlclNpcFBhcnRpY2lwYW50IiwidHJhbnNmZXJUbyIsInJvb21BZG1pbiIsInJvb20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/SipClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js":
/*!**********************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/TwirpRPC.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TwirpError: () => (/* binding */ TwirpError),\n/* harmony export */   TwirpRpc: () => (/* binding */ TwirpRpc),\n/* harmony export */   livekitPackage: () => (/* binding */ livekitPackage)\n/* harmony export */ });\nconst defaultPrefix = \"/twirp\";\nconst livekitPackage = \"livekit\";\nclass TwirpError extends Error {\n    constructor(name, message, status, code){\n        super(message);\n        this.name = name;\n        this.status = status;\n        this.code = code;\n    }\n}\nclass TwirpRpc {\n    constructor(host, pkg, prefix){\n        if (host.startsWith(\"ws\")) {\n            host = host.replace(\"ws\", \"http\");\n        }\n        this.host = host;\n        this.pkg = pkg;\n        this.prefix = prefix || defaultPrefix;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async request(service, method, data, headers) {\n        const path = `${this.prefix}/${this.pkg}.${service}/${method}`;\n        const url = new URL(path, this.host);\n        const response = await fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json;charset=UTF-8\",\n                ...headers\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            const isJson = response.headers.get(\"content-type\") === \"application/json\";\n            let errorMessage = \"Unknown internal error\";\n            let errorCode = void 0;\n            try {\n                if (isJson) {\n                    const parsedError = await response.json();\n                    if (\"msg\" in parsedError) {\n                        errorMessage = parsedError.msg;\n                    }\n                    if (\"code\" in parsedError) {\n                        errorCode = parsedError.code;\n                    }\n                } else {\n                    errorMessage = await response.text();\n                }\n            } catch (e) {\n                console.debug(`Error when trying to parse error message, using defaults`, e);\n            }\n            throw new TwirpError(response.statusText, errorMessage, response.status, errorCode);\n        }\n        const parsedResp = await response.json();\n        const camelcaseKeys = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/quick-lru\"), __webpack_require__.e(\"vendor-chunks/map-obj\"), __webpack_require__.e(\"vendor-chunks/camelcase\"), __webpack_require__.e(\"vendor-chunks/camelcase-keys\")]).then(__webpack_require__.bind(__webpack_require__, /*! camelcase-keys */ \"(rsc)/./node_modules/camelcase-keys/index.js\")).then((mod)=>mod.default);\n        return camelcaseKeys(parsedResp, {\n            deep: true\n        });\n    }\n}\n //# sourceMappingURL=TwirpRPC.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvVHdpcnBSUEMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsZ0JBQWdCO0FBQ3RCLE1BQU1DLGlCQUFpQjtBQUN2QixNQUFNQyxtQkFBbUJDO0lBQ3ZCQyxZQUFZQyxJQUFJLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxJQUFJLENBQUU7UUFDdkMsS0FBSyxDQUFDRjtRQUNOLElBQUksQ0FBQ0QsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ0UsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsSUFBSSxHQUFHQTtJQUNkO0FBQ0Y7QUFDQSxNQUFNQztJQUNKTCxZQUFZTSxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxDQUFFO1FBQzdCLElBQUlGLEtBQUtHLFVBQVUsQ0FBQyxPQUFPO1lBQ3pCSCxPQUFPQSxLQUFLSSxPQUFPLENBQUMsTUFBTTtRQUM1QjtRQUNBLElBQUksQ0FBQ0osSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ0MsR0FBRyxHQUFHQTtRQUNYLElBQUksQ0FBQ0MsTUFBTSxHQUFHQSxVQUFVWjtJQUMxQjtJQUNBLDhEQUE4RDtJQUM5RCxNQUFNZSxRQUFRQyxPQUFPLEVBQUVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDNUMsTUFBTUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDUixNQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQ0QsR0FBRyxDQUFDLENBQUMsRUFBRUssUUFBUSxDQUFDLEVBQUVDLE9BQU8sQ0FBQztRQUM5RCxNQUFNSSxNQUFNLElBQUlDLElBQUlGLE1BQU0sSUFBSSxDQUFDVixJQUFJO1FBQ25DLE1BQU1hLFdBQVcsTUFBTUMsTUFBTUgsS0FBSztZQUNoQ0osUUFBUTtZQUNSRSxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsR0FBR0EsT0FBTztZQUNaO1lBQ0FNLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ1Q7UUFDdkI7UUFDQSxJQUFJLENBQUNLLFNBQVNLLEVBQUUsRUFBRTtZQUNoQixNQUFNQyxTQUFTTixTQUFTSixPQUFPLENBQUNXLEdBQUcsQ0FBQyxvQkFBb0I7WUFDeEQsSUFBSUMsZUFBZTtZQUNuQixJQUFJQyxZQUFZLEtBQUs7WUFDckIsSUFBSTtnQkFDRixJQUFJSCxRQUFRO29CQUNWLE1BQU1JLGNBQWMsTUFBTVYsU0FBU1csSUFBSTtvQkFDdkMsSUFBSSxTQUFTRCxhQUFhO3dCQUN4QkYsZUFBZUUsWUFBWUUsR0FBRztvQkFDaEM7b0JBQ0EsSUFBSSxVQUFVRixhQUFhO3dCQUN6QkQsWUFBWUMsWUFBWXpCLElBQUk7b0JBQzlCO2dCQUNGLE9BQU87b0JBQ0x1QixlQUFlLE1BQU1SLFNBQVNhLElBQUk7Z0JBQ3BDO1lBQ0YsRUFBRSxPQUFPQyxHQUFHO2dCQUNWQyxRQUFRQyxLQUFLLENBQUMsQ0FBQyx3REFBd0QsQ0FBQyxFQUFFRjtZQUM1RTtZQUNBLE1BQU0sSUFBSW5DLFdBQVdxQixTQUFTaUIsVUFBVSxFQUFFVCxjQUFjUixTQUFTaEIsTUFBTSxFQUFFeUI7UUFDM0U7UUFDQSxNQUFNUyxhQUFhLE1BQU1sQixTQUFTVyxJQUFJO1FBQ3RDLE1BQU1RLGdCQUFnQixNQUFNLGlXQUF3QixDQUFDQyxJQUFJLENBQUMsQ0FBQ0MsTUFBUUEsSUFBSUMsT0FBTztRQUM5RSxPQUFPSCxjQUFjRCxZQUFZO1lBQUVLLE1BQU07UUFBSztJQUNoRDtBQUNGO0FBS0UsQ0FDRixvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmltYS1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L1R3aXJwUlBDLmpzP2Q2NTYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGVmYXVsdFByZWZpeCA9IFwiL3R3aXJwXCI7XG5jb25zdCBsaXZla2l0UGFja2FnZSA9IFwibGl2ZWtpdFwiO1xuY2xhc3MgVHdpcnBFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobmFtZSwgbWVzc2FnZSwgc3RhdHVzLCBjb2RlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICB9XG59XG5jbGFzcyBUd2lycFJwYyB7XG4gIGNvbnN0cnVjdG9yKGhvc3QsIHBrZywgcHJlZml4KSB7XG4gICAgaWYgKGhvc3Quc3RhcnRzV2l0aChcIndzXCIpKSB7XG4gICAgICBob3N0ID0gaG9zdC5yZXBsYWNlKFwid3NcIiwgXCJodHRwXCIpO1xuICAgIH1cbiAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIHRoaXMucGtnID0gcGtnO1xuICAgIHRoaXMucHJlZml4ID0gcHJlZml4IHx8IGRlZmF1bHRQcmVmaXg7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgYXN5bmMgcmVxdWVzdChzZXJ2aWNlLCBtZXRob2QsIGRhdGEsIGhlYWRlcnMpIHtcbiAgICBjb25zdCBwYXRoID0gYCR7dGhpcy5wcmVmaXh9LyR7dGhpcy5wa2d9LiR7c2VydmljZX0vJHttZXRob2R9YDtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHBhdGgsIHRoaXMuaG9zdCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04XCIsXG4gICAgICAgIC4uLmhlYWRlcnNcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGlzSnNvbiA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpID09PSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIlVua25vd24gaW50ZXJuYWwgZXJyb3JcIjtcbiAgICAgIGxldCBlcnJvckNvZGUgPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNKc29uKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkRXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKFwibXNnXCIgaW4gcGFyc2VkRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IHBhcnNlZEVycm9yLm1zZztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFwiY29kZVwiIGluIHBhcnNlZEVycm9yKSB7XG4gICAgICAgICAgICBlcnJvckNvZGUgPSBwYXJzZWRFcnJvci5jb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgRXJyb3Igd2hlbiB0cnlpbmcgdG8gcGFyc2UgZXJyb3IgbWVzc2FnZSwgdXNpbmcgZGVmYXVsdHNgLCBlKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBUd2lycEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQsIGVycm9yTWVzc2FnZSwgcmVzcG9uc2Uuc3RhdHVzLCBlcnJvckNvZGUpO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRSZXNwID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IGNhbWVsY2FzZUtleXMgPSBhd2FpdCBpbXBvcnQoXCJjYW1lbGNhc2Uta2V5c1wiKS50aGVuKChtb2QpID0+IG1vZC5kZWZhdWx0KTtcbiAgICByZXR1cm4gY2FtZWxjYXNlS2V5cyhwYXJzZWRSZXNwLCB7IGRlZXA6IHRydWUgfSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIFR3aXJwRXJyb3IsXG4gIFR3aXJwUnBjLFxuICBsaXZla2l0UGFja2FnZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVR3aXJwUlBDLmpzLm1hcCJdLCJuYW1lcyI6WyJkZWZhdWx0UHJlZml4IiwibGl2ZWtpdFBhY2thZ2UiLCJUd2lycEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJtZXNzYWdlIiwic3RhdHVzIiwiY29kZSIsIlR3aXJwUnBjIiwiaG9zdCIsInBrZyIsInByZWZpeCIsInN0YXJ0c1dpdGgiLCJyZXBsYWNlIiwicmVxdWVzdCIsInNlcnZpY2UiLCJtZXRob2QiLCJkYXRhIiwiaGVhZGVycyIsInBhdGgiLCJ1cmwiLCJVUkwiLCJyZXNwb25zZSIsImZldGNoIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImlzSnNvbiIsImdldCIsImVycm9yTWVzc2FnZSIsImVycm9yQ29kZSIsInBhcnNlZEVycm9yIiwianNvbiIsIm1zZyIsInRleHQiLCJlIiwiY29uc29sZSIsImRlYnVnIiwic3RhdHVzVGV4dCIsInBhcnNlZFJlc3AiLCJjYW1lbGNhc2VLZXlzIiwidGhlbiIsIm1vZCIsImRlZmF1bHQiLCJkZWVwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/WebhookReceiver.js":
/*!*****************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/WebhookReceiver.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebhookEvent: () => (/* binding */ WebhookEvent),\n/* harmony export */   WebhookReceiver: () => (/* binding */ WebhookReceiver),\n/* harmony export */   authorizeHeader: () => (/* binding */ authorizeHeader)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AccessToken.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js\");\n/* harmony import */ var _crypto_digest_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crypto/digest.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/crypto/digest.js\");\n\n\n\nconst authorizeHeader = \"Authorize\";\nclass WebhookEvent extends _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.WebhookEvent {\n    constructor(){\n        super(...arguments);\n        this.event = \"\";\n    }\n    static fromBinary(bytes, options) {\n        return new WebhookEvent().fromBinary(bytes, options);\n    }\n    static fromJson(jsonValue, options) {\n        return new WebhookEvent().fromJson(jsonValue, options);\n    }\n    static fromJsonString(jsonString, options) {\n        return new WebhookEvent().fromJsonString(jsonString, options);\n    }\n}\nclass WebhookReceiver {\n    constructor(apiKey, apiSecret){\n        this.verifier = new _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__.TokenVerifier(apiKey, apiSecret);\n    }\n    /**\n   * @param body - string of the posted body\n   * @param authHeader - `Authorization` header from the request\n   * @param skipAuth - true to skip auth validation\n   * @param clockTolerance - How much tolerance to allow for checks against the auth header to be skewed from the claims\n   * @returns The processed webhook event\n   */ async receive(body, authHeader, skipAuth = false, clockTolerance) {\n        if (!skipAuth) {\n            if (!authHeader) {\n                throw new Error(\"authorization header is empty\");\n            }\n            const claims = await this.verifier.verify(authHeader, clockTolerance);\n            const hash = await (0,_crypto_digest_js__WEBPACK_IMPORTED_MODULE_2__.digest)(body);\n            const hashDecoded = btoa(Array.from(new Uint8Array(hash)).map((v)=>String.fromCharCode(v)).join(\"\"));\n            if (claims.sha256 !== hashDecoded) {\n                throw new Error(\"sha256 checksum of body does not match\");\n            }\n        }\n        return WebhookEvent.fromJson(JSON.parse(body), {\n            ignoreUnknownFields: true\n        });\n    }\n}\n //# sourceMappingURL=WebhookReceiver.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvV2ViaG9va1JlY2VpdmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzRTtBQUNyQjtBQUNMO0FBQzVDLE1BQU1JLGtCQUFrQjtBQUN4QixNQUFNSixxQkFBcUJDLDJEQUFpQkE7SUFDMUNJLGFBQWM7UUFDWixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxLQUFLLEdBQUc7SUFDZjtJQUNBLE9BQU9DLFdBQVdDLEtBQUssRUFBRUMsT0FBTyxFQUFFO1FBQ2hDLE9BQU8sSUFBSVYsZUFBZVEsVUFBVSxDQUFDQyxPQUFPQztJQUM5QztJQUNBLE9BQU9DLFNBQVNDLFNBQVMsRUFBRUYsT0FBTyxFQUFFO1FBQ2xDLE9BQU8sSUFBSVYsZUFBZVcsUUFBUSxDQUFDQyxXQUFXRjtJQUNoRDtJQUNBLE9BQU9HLGVBQWVDLFVBQVUsRUFBRUosT0FBTyxFQUFFO1FBQ3pDLE9BQU8sSUFBSVYsZUFBZWEsY0FBYyxDQUFDQyxZQUFZSjtJQUN2RDtBQUNGO0FBQ0EsTUFBTUs7SUFDSlYsWUFBWVcsTUFBTSxFQUFFQyxTQUFTLENBQUU7UUFDN0IsSUFBSSxDQUFDQyxRQUFRLEdBQUcsSUFBSWhCLDBEQUFhQSxDQUFDYyxRQUFRQztJQUM1QztJQUNBOzs7Ozs7R0FNQyxHQUNELE1BQU1FLFFBQVFDLElBQUksRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEtBQUssRUFBRUMsY0FBYyxFQUFFO1FBQ2hFLElBQUksQ0FBQ0QsVUFBVTtZQUNiLElBQUksQ0FBQ0QsWUFBWTtnQkFDZixNQUFNLElBQUlHLE1BQU07WUFDbEI7WUFDQSxNQUFNQyxTQUFTLE1BQU0sSUFBSSxDQUFDUCxRQUFRLENBQUNRLE1BQU0sQ0FBQ0wsWUFBWUU7WUFDdEQsTUFBTUksT0FBTyxNQUFNeEIseURBQU1BLENBQUNpQjtZQUMxQixNQUFNUSxjQUFjQyxLQUNsQkMsTUFBTUMsSUFBSSxDQUFDLElBQUlDLFdBQVdMLE9BQU9NLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQyxPQUFPQyxZQUFZLENBQUNGLElBQUlHLElBQUksQ0FBQztZQUUzRSxJQUFJWixPQUFPYSxNQUFNLEtBQUtWLGFBQWE7Z0JBQ2pDLE1BQU0sSUFBSUosTUFBTTtZQUNsQjtRQUNGO1FBQ0EsT0FBT3hCLGFBQWFXLFFBQVEsQ0FBQzRCLEtBQUtDLEtBQUssQ0FBQ3BCLE9BQU87WUFBRXFCLHFCQUFxQjtRQUFLO0lBQzdFO0FBQ0Y7QUFLRSxDQUNGLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FuaW1hLXByb2plY3QvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvV2ViaG9va1JlY2VpdmVyLmpzPzcyMjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV2ViaG9va0V2ZW50IGFzIFByb3RvV2ViaG9va0V2ZW50IH0gZnJvbSBcIkBsaXZla2l0L3Byb3RvY29sXCI7XG5pbXBvcnQgeyBUb2tlblZlcmlmaWVyIH0gZnJvbSBcIi4vQWNjZXNzVG9rZW4uanNcIjtcbmltcG9ydCB7IGRpZ2VzdCB9IGZyb20gXCIuL2NyeXB0by9kaWdlc3QuanNcIjtcbmNvbnN0IGF1dGhvcml6ZUhlYWRlciA9IFwiQXV0aG9yaXplXCI7XG5jbGFzcyBXZWJob29rRXZlbnQgZXh0ZW5kcyBQcm90b1dlYmhvb2tFdmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5ldmVudCA9IFwiXCI7XG4gIH1cbiAgc3RhdGljIGZyb21CaW5hcnkoYnl0ZXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFdlYmhvb2tFdmVudCgpLmZyb21CaW5hcnkoYnl0ZXMsIG9wdGlvbnMpO1xuICB9XG4gIHN0YXRpYyBmcm9tSnNvbihqc29uVmFsdWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFdlYmhvb2tFdmVudCgpLmZyb21Kc29uKGpzb25WYWx1ZSwgb3B0aW9ucyk7XG4gIH1cbiAgc3RhdGljIGZyb21Kc29uU3RyaW5nKGpzb25TdHJpbmcsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFdlYmhvb2tFdmVudCgpLmZyb21Kc29uU3RyaW5nKGpzb25TdHJpbmcsIG9wdGlvbnMpO1xuICB9XG59XG5jbGFzcyBXZWJob29rUmVjZWl2ZXIge1xuICBjb25zdHJ1Y3RvcihhcGlLZXksIGFwaVNlY3JldCkge1xuICAgIHRoaXMudmVyaWZpZXIgPSBuZXcgVG9rZW5WZXJpZmllcihhcGlLZXksIGFwaVNlY3JldCk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBib2R5IC0gc3RyaW5nIG9mIHRoZSBwb3N0ZWQgYm9keVxuICAgKiBAcGFyYW0gYXV0aEhlYWRlciAtIGBBdXRob3JpemF0aW9uYCBoZWFkZXIgZnJvbSB0aGUgcmVxdWVzdFxuICAgKiBAcGFyYW0gc2tpcEF1dGggLSB0cnVlIHRvIHNraXAgYXV0aCB2YWxpZGF0aW9uXG4gICAqIEBwYXJhbSBjbG9ja1RvbGVyYW5jZSAtIEhvdyBtdWNoIHRvbGVyYW5jZSB0byBhbGxvdyBmb3IgY2hlY2tzIGFnYWluc3QgdGhlIGF1dGggaGVhZGVyIHRvIGJlIHNrZXdlZCBmcm9tIHRoZSBjbGFpbXNcbiAgICogQHJldHVybnMgVGhlIHByb2Nlc3NlZCB3ZWJob29rIGV2ZW50XG4gICAqL1xuICBhc3luYyByZWNlaXZlKGJvZHksIGF1dGhIZWFkZXIsIHNraXBBdXRoID0gZmFsc2UsIGNsb2NrVG9sZXJhbmNlKSB7XG4gICAgaWYgKCFza2lwQXV0aCkge1xuICAgICAgaWYgKCFhdXRoSGVhZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImF1dGhvcml6YXRpb24gaGVhZGVyIGlzIGVtcHR5XCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgY2xhaW1zID0gYXdhaXQgdGhpcy52ZXJpZmllci52ZXJpZnkoYXV0aEhlYWRlciwgY2xvY2tUb2xlcmFuY2UpO1xuICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGRpZ2VzdChib2R5KTtcbiAgICAgIGNvbnN0IGhhc2hEZWNvZGVkID0gYnRvYShcbiAgICAgICAgQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoKSkubWFwKCh2KSA9PiBTdHJpbmcuZnJvbUNoYXJDb2RlKHYpKS5qb2luKFwiXCIpXG4gICAgICApO1xuICAgICAgaWYgKGNsYWltcy5zaGEyNTYgIT09IGhhc2hEZWNvZGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInNoYTI1NiBjaGVja3N1bSBvZiBib2R5IGRvZXMgbm90IG1hdGNoXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gV2ViaG9va0V2ZW50LmZyb21Kc29uKEpTT04ucGFyc2UoYm9keSksIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgV2ViaG9va0V2ZW50LFxuICBXZWJob29rUmVjZWl2ZXIsXG4gIGF1dGhvcml6ZUhlYWRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYmhvb2tSZWNlaXZlci5qcy5tYXAiXSwibmFtZXMiOlsiV2ViaG9va0V2ZW50IiwiUHJvdG9XZWJob29rRXZlbnQiLCJUb2tlblZlcmlmaWVyIiwiZGlnZXN0IiwiYXV0aG9yaXplSGVhZGVyIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJldmVudCIsImZyb21CaW5hcnkiLCJieXRlcyIsIm9wdGlvbnMiLCJmcm9tSnNvbiIsImpzb25WYWx1ZSIsImZyb21Kc29uU3RyaW5nIiwianNvblN0cmluZyIsIldlYmhvb2tSZWNlaXZlciIsImFwaUtleSIsImFwaVNlY3JldCIsInZlcmlmaWVyIiwicmVjZWl2ZSIsImJvZHkiLCJhdXRoSGVhZGVyIiwic2tpcEF1dGgiLCJjbG9ja1RvbGVyYW5jZSIsIkVycm9yIiwiY2xhaW1zIiwidmVyaWZ5IiwiaGFzaCIsImhhc2hEZWNvZGVkIiwiYnRvYSIsIkFycmF5IiwiZnJvbSIsIlVpbnQ4QXJyYXkiLCJtYXAiLCJ2IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiam9pbiIsInNoYTI1NiIsIkpTT04iLCJwYXJzZSIsImlnbm9yZVVua25vd25GaWVsZHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/WebhookReceiver.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/crypto/digest.js":
/*!***************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/crypto/digest.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   digest: () => (/* binding */ digest)\n/* harmony export */ });\nasync function digest(data) {\n    var _a;\n    if ((_a = globalThis.crypto) == null ? void 0 : _a.subtle) {\n        const encoder = new TextEncoder();\n        return crypto.subtle.digest(\"SHA-256\", encoder.encode(data));\n    } else {\n        const nodeCrypto = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! node:crypto */ \"node:crypto\", 19));\n        return nodeCrypto.createHash(\"sha256\").update(data).digest();\n    }\n}\n //# sourceMappingURL=digest.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvY3J5cHRvL2RpZ2VzdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsZUFBZUEsT0FBT0MsSUFBSTtJQUN4QixJQUFJQztJQUNKLElBQUksQ0FBQ0EsS0FBS0MsV0FBV0MsTUFBTSxLQUFLLE9BQU8sS0FBSyxJQUFJRixHQUFHRyxNQUFNLEVBQUU7UUFDekQsTUFBTUMsVUFBVSxJQUFJQztRQUNwQixPQUFPSCxPQUFPQyxNQUFNLENBQUNMLE1BQU0sQ0FBQyxXQUFXTSxRQUFRRSxNQUFNLENBQUNQO0lBQ3hELE9BQU87UUFDTCxNQUFNUSxhQUFhLE1BQU0sNEhBQXFCO1FBQzlDLE9BQU9BLFdBQVdDLFVBQVUsQ0FBQyxVQUFVQyxNQUFNLENBQUNWLE1BQU1ELE1BQU07SUFDNUQ7QUFDRjtBQUdFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5pbWEtcHJvamVjdC8uL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9jcnlwdG8vZGlnZXN0LmpzPzQzYTEiXSwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgZnVuY3Rpb24gZGlnZXN0KGRhdGEpIHtcbiAgdmFyIF9hO1xuICBpZiAoKF9hID0gZ2xvYmFsVGhpcy5jcnlwdG8pID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdWJ0bGUpIHtcbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgcmV0dXJuIGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLCBlbmNvZGVyLmVuY29kZShkYXRhKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgbm9kZUNyeXB0byA9IGF3YWl0IGltcG9ydChcIm5vZGU6Y3J5cHRvXCIpO1xuICAgIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhhc2goXCJzaGEyNTZcIikudXBkYXRlKGRhdGEpLmRpZ2VzdCgpO1xuICB9XG59XG5leHBvcnQge1xuICBkaWdlc3Rcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWdlc3QuanMubWFwIl0sIm5hbWVzIjpbImRpZ2VzdCIsImRhdGEiLCJfYSIsImdsb2JhbFRoaXMiLCJjcnlwdG8iLCJzdWJ0bGUiLCJlbmNvZGVyIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJub2RlQ3J5cHRvIiwiY3JlYXRlSGFzaCIsInVwZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/crypto/digest.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/crypto/uuid.js":
/*!*************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/crypto/uuid.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRandomBytes: () => (/* binding */ getRandomBytes)\n/* harmony export */ });\nasync function getRandomBytes(size = 16) {\n    if (globalThis.crypto) {\n        return crypto.getRandomValues(new Uint8Array(size));\n    } else {\n        const nodeCrypto = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! node:crypto */ \"node:crypto\", 19));\n        return nodeCrypto.getRandomValues(new Uint8Array(size));\n    }\n}\n //# sourceMappingURL=uuid.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvY3J5cHRvL3V1aWQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGVBQWVBLGVBQWVDLE9BQU8sRUFBRTtJQUNyQyxJQUFJQyxXQUFXQyxNQUFNLEVBQUU7UUFDckIsT0FBT0EsT0FBT0MsZUFBZSxDQUFDLElBQUlDLFdBQVdKO0lBQy9DLE9BQU87UUFDTCxNQUFNSyxhQUFhLE1BQU0sNEhBQXFCO1FBQzlDLE9BQU9BLFdBQVdGLGVBQWUsQ0FBQyxJQUFJQyxXQUFXSjtJQUNuRDtBQUNGO0FBR0UsQ0FDRixnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmltYS1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L2NyeXB0by91dWlkLmpzPzBkZjMiXSwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgZnVuY3Rpb24gZ2V0UmFuZG9tQnl0ZXMoc2l6ZSA9IDE2KSB7XG4gIGlmIChnbG9iYWxUaGlzLmNyeXB0bykge1xuICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBub2RlQ3J5cHRvID0gYXdhaXQgaW1wb3J0KFwibm9kZTpjcnlwdG9cIik7XG4gICAgcmV0dXJuIG5vZGVDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgZ2V0UmFuZG9tQnl0ZXNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dWlkLmpzLm1hcCJdLCJuYW1lcyI6WyJnZXRSYW5kb21CeXRlcyIsInNpemUiLCJnbG9iYWxUaGlzIiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiVWludDhBcnJheSIsIm5vZGVDcnlwdG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/crypto/uuid.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/grants.js":
/*!********************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/grants.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   claimsToJwtPayload: () => (/* binding */ claimsToJwtPayload),\n/* harmony export */   trackSourceToString: () => (/* binding */ trackSourceToString)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n\nfunction trackSourceToString(source) {\n    switch(source){\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.CAMERA:\n            return \"camera\";\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.MICROPHONE:\n            return \"microphone\";\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.SCREEN_SHARE:\n            return \"screen_share\";\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.SCREEN_SHARE_AUDIO:\n            return \"screen_share_audio\";\n        default:\n            throw new TypeError(`Cannot convert TrackSource ${source} to string`);\n    }\n}\nfunction claimsToJwtPayload(grant) {\n    var _a;\n    const claim = {\n        ...grant\n    };\n    if (Array.isArray((_a = claim.video) == null ? void 0 : _a.canPublishSources)) {\n        claim.video.canPublishSources = claim.video.canPublishSources.map(trackSourceToString);\n    }\n    return claim;\n}\n //# sourceMappingURL=grants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvZ3JhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDtBQUNoRCxTQUFTQyxvQkFBb0JDLE1BQU07SUFDakMsT0FBUUE7UUFDTixLQUFLRiwwREFBV0EsQ0FBQ0csTUFBTTtZQUNyQixPQUFPO1FBQ1QsS0FBS0gsMERBQVdBLENBQUNJLFVBQVU7WUFDekIsT0FBTztRQUNULEtBQUtKLDBEQUFXQSxDQUFDSyxZQUFZO1lBQzNCLE9BQU87UUFDVCxLQUFLTCwwREFBV0EsQ0FBQ00sa0JBQWtCO1lBQ2pDLE9BQU87UUFDVDtZQUNFLE1BQU0sSUFBSUMsVUFBVSxDQUFDLDJCQUEyQixFQUFFTCxPQUFPLFVBQVUsQ0FBQztJQUN4RTtBQUNGO0FBQ0EsU0FBU00sbUJBQW1CQyxLQUFLO0lBQy9CLElBQUlDO0lBQ0osTUFBTUMsUUFBUTtRQUFFLEdBQUdGLEtBQUs7SUFBQztJQUN6QixJQUFJRyxNQUFNQyxPQUFPLENBQUMsQ0FBQ0gsS0FBS0MsTUFBTUcsS0FBSyxLQUFLLE9BQU8sS0FBSyxJQUFJSixHQUFHSyxpQkFBaUIsR0FBRztRQUM3RUosTUFBTUcsS0FBSyxDQUFDQyxpQkFBaUIsR0FBR0osTUFBTUcsS0FBSyxDQUFDQyxpQkFBaUIsQ0FBQ0MsR0FBRyxDQUFDZjtJQUNwRTtJQUNBLE9BQU9VO0FBQ1Q7QUFJRSxDQUNGLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FuaW1hLXByb2plY3QvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvZ3JhbnRzLmpzP2Q2MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJhY2tTb3VyY2UgfSBmcm9tIFwiQGxpdmVraXQvcHJvdG9jb2xcIjtcbmZ1bmN0aW9uIHRyYWNrU291cmNlVG9TdHJpbmcoc291cmNlKSB7XG4gIHN3aXRjaCAoc291cmNlKSB7XG4gICAgY2FzZSBUcmFja1NvdXJjZS5DQU1FUkE6XG4gICAgICByZXR1cm4gXCJjYW1lcmFcIjtcbiAgICBjYXNlIFRyYWNrU291cmNlLk1JQ1JPUEhPTkU6XG4gICAgICByZXR1cm4gXCJtaWNyb3Bob25lXCI7XG4gICAgY2FzZSBUcmFja1NvdXJjZS5TQ1JFRU5fU0hBUkU6XG4gICAgICByZXR1cm4gXCJzY3JlZW5fc2hhcmVcIjtcbiAgICBjYXNlIFRyYWNrU291cmNlLlNDUkVFTl9TSEFSRV9BVURJTzpcbiAgICAgIHJldHVybiBcInNjcmVlbl9zaGFyZV9hdWRpb1wiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBDYW5ub3QgY29udmVydCBUcmFja1NvdXJjZSAke3NvdXJjZX0gdG8gc3RyaW5nYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsYWltc1RvSnd0UGF5bG9hZChncmFudCkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNsYWltID0geyAuLi5ncmFudCB9O1xuICBpZiAoQXJyYXkuaXNBcnJheSgoX2EgPSBjbGFpbS52aWRlbykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhblB1Ymxpc2hTb3VyY2VzKSkge1xuICAgIGNsYWltLnZpZGVvLmNhblB1Ymxpc2hTb3VyY2VzID0gY2xhaW0udmlkZW8uY2FuUHVibGlzaFNvdXJjZXMubWFwKHRyYWNrU291cmNlVG9TdHJpbmcpO1xuICB9XG4gIHJldHVybiBjbGFpbTtcbn1cbmV4cG9ydCB7XG4gIGNsYWltc1RvSnd0UGF5bG9hZCxcbiAgdHJhY2tTb3VyY2VUb1N0cmluZ1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYW50cy5qcy5tYXAiXSwibmFtZXMiOlsiVHJhY2tTb3VyY2UiLCJ0cmFja1NvdXJjZVRvU3RyaW5nIiwic291cmNlIiwiQ0FNRVJBIiwiTUlDUk9QSE9ORSIsIlNDUkVFTl9TSEFSRSIsIlNDUkVFTl9TSEFSRV9BVURJTyIsIlR5cGVFcnJvciIsImNsYWltc1RvSnd0UGF5bG9hZCIsImdyYW50IiwiX2EiLCJjbGFpbSIsIkFycmF5IiwiaXNBcnJheSIsInZpZGVvIiwiY2FuUHVibGlzaFNvdXJjZXMiLCJtYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/grants.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessToken: () => (/* reexport safe */ _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__.AccessToken),\n/* harmony export */   AgentDispatchClient: () => (/* reexport safe */ _AgentDispatchClient_js__WEBPACK_IMPORTED_MODULE_2__.AgentDispatchClient),\n/* harmony export */   AliOSSUpload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AliOSSUpload),\n/* harmony export */   AudioCodec: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AudioCodec),\n/* harmony export */   AutoParticipantEgress: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AutoParticipantEgress),\n/* harmony export */   AutoTrackEgress: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AutoTrackEgress),\n/* harmony export */   AzureBlobUpload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AzureBlobUpload),\n/* harmony export */   DataPacket_Kind: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DataPacket_Kind),\n/* harmony export */   DirectFileOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DirectFileOutput),\n/* harmony export */   EgressClient: () => (/* reexport safe */ _EgressClient_js__WEBPACK_IMPORTED_MODULE_3__.EgressClient),\n/* harmony export */   EgressInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo),\n/* harmony export */   EgressStatus: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressStatus),\n/* harmony export */   EncodedFileOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodedFileOutput),\n/* harmony export */   EncodedFileType: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodedFileType),\n/* harmony export */   EncodingOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodingOptions),\n/* harmony export */   EncodingOptionsPreset: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodingOptionsPreset),\n/* harmony export */   GCPUpload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.GCPUpload),\n/* harmony export */   ImageCodec: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ImageCodec),\n/* harmony export */   ImageFileSuffix: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ImageFileSuffix),\n/* harmony export */   ImageOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ImageOutput),\n/* harmony export */   IngressAudioEncodingOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressAudioEncodingOptions),\n/* harmony export */   IngressAudioEncodingPreset: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressAudioEncodingPreset),\n/* harmony export */   IngressAudioOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressAudioOptions),\n/* harmony export */   IngressClient: () => (/* reexport safe */ _IngressClient_js__WEBPACK_IMPORTED_MODULE_5__.IngressClient),\n/* harmony export */   IngressInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo),\n/* harmony export */   IngressInput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInput),\n/* harmony export */   IngressState: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressState),\n/* harmony export */   IngressVideoEncodingOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressVideoEncodingOptions),\n/* harmony export */   IngressVideoEncodingPreset: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressVideoEncodingPreset),\n/* harmony export */   IngressVideoOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressVideoOptions),\n/* harmony export */   ParticipantEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantEgressRequest),\n/* harmony export */   ParticipantInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo),\n/* harmony export */   ParticipantInfo_State: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo_State),\n/* harmony export */   ParticipantPermission: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantPermission),\n/* harmony export */   Room: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.Room),\n/* harmony export */   RoomCompositeEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomCompositeEgressRequest),\n/* harmony export */   RoomEgress: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomEgress),\n/* harmony export */   RoomServiceClient: () => (/* reexport safe */ _RoomServiceClient_js__WEBPACK_IMPORTED_MODULE_6__.RoomServiceClient),\n/* harmony export */   S3Upload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.S3Upload),\n/* harmony export */   SIPDispatchRuleInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleInfo),\n/* harmony export */   SIPParticipantInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPParticipantInfo),\n/* harmony export */   SIPTrunkInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTrunkInfo),\n/* harmony export */   SegmentedFileOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SegmentedFileOutput),\n/* harmony export */   SegmentedFileProtocol: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SegmentedFileProtocol),\n/* harmony export */   SipClient: () => (/* reexport safe */ _SipClient_js__WEBPACK_IMPORTED_MODULE_7__.SipClient),\n/* harmony export */   StreamOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.StreamOutput),\n/* harmony export */   StreamProtocol: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.StreamProtocol),\n/* harmony export */   TokenVerifier: () => (/* reexport safe */ _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__.TokenVerifier),\n/* harmony export */   TrackCompositeEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackCompositeEgressRequest),\n/* harmony export */   TrackEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackEgressRequest),\n/* harmony export */   TrackInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackInfo),\n/* harmony export */   TrackSource: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource),\n/* harmony export */   TrackType: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackType),\n/* harmony export */   VideoCodec: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.VideoCodec),\n/* harmony export */   WebEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.WebEgressRequest),\n/* harmony export */   WebhookEvent: () => (/* reexport safe */ _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_8__.WebhookEvent),\n/* harmony export */   WebhookReceiver: () => (/* reexport safe */ _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_8__.WebhookReceiver),\n/* harmony export */   authorizeHeader: () => (/* reexport safe */ _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_8__.authorizeHeader),\n/* harmony export */   claimsToJwtPayload: () => (/* reexport safe */ _grants_js__WEBPACK_IMPORTED_MODULE_4__.claimsToJwtPayload),\n/* harmony export */   trackSourceToString: () => (/* reexport safe */ _grants_js__WEBPACK_IMPORTED_MODULE_4__.trackSourceToString)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AccessToken.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js\");\n/* harmony import */ var _AgentDispatchClient_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AgentDispatchClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/AgentDispatchClient.js\");\n/* harmony import */ var _EgressClient_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EgressClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/EgressClient.js\");\n/* harmony import */ var _grants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./grants.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/grants.js\");\n/* harmony import */ var _IngressClient_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./IngressClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/IngressClient.js\");\n/* harmony import */ var _RoomServiceClient_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RoomServiceClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/RoomServiceClient.js\");\n/* harmony import */ var _SipClient_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SipClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/SipClient.js\");\n/* harmony import */ var _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WebhookReceiver.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/WebhookReceiver.js\");\n\n\n\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUQyQjtBQUNNO0FBQ1E7QUFDUDtBQUNOO0FBQ087QUFDSTtBQUNSO0FBQ007QUFrRG5DLENBQ0YsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5pbWEtcHJvamVjdC8uL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9pbmRleC5qcz8zY2UwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFsaU9TU1VwbG9hZCxcbiAgQXVkaW9Db2RlYyxcbiAgQXV0b1BhcnRpY2lwYW50RWdyZXNzLFxuICBBdXRvVHJhY2tFZ3Jlc3MsXG4gIEF6dXJlQmxvYlVwbG9hZCxcbiAgRGF0YVBhY2tldF9LaW5kLFxuICBEaXJlY3RGaWxlT3V0cHV0LFxuICBFZ3Jlc3NJbmZvLFxuICBFZ3Jlc3NTdGF0dXMsXG4gIEVuY29kZWRGaWxlT3V0cHV0LFxuICBFbmNvZGVkRmlsZVR5cGUsXG4gIEVuY29kaW5nT3B0aW9ucyxcbiAgRW5jb2RpbmdPcHRpb25zUHJlc2V0LFxuICBHQ1BVcGxvYWQsXG4gIEltYWdlQ29kZWMsXG4gIEltYWdlRmlsZVN1ZmZpeCxcbiAgSW1hZ2VPdXRwdXQsXG4gIEluZ3Jlc3NBdWRpb0VuY29kaW5nT3B0aW9ucyxcbiAgSW5ncmVzc0F1ZGlvRW5jb2RpbmdQcmVzZXQsXG4gIEluZ3Jlc3NBdWRpb09wdGlvbnMsXG4gIEluZ3Jlc3NJbmZvLFxuICBJbmdyZXNzSW5wdXQsXG4gIEluZ3Jlc3NTdGF0ZSxcbiAgSW5ncmVzc1ZpZGVvRW5jb2RpbmdPcHRpb25zLFxuICBJbmdyZXNzVmlkZW9FbmNvZGluZ1ByZXNldCxcbiAgSW5ncmVzc1ZpZGVvT3B0aW9ucyxcbiAgUGFydGljaXBhbnRFZ3Jlc3NSZXF1ZXN0LFxuICBQYXJ0aWNpcGFudEluZm8sXG4gIFBhcnRpY2lwYW50SW5mb19TdGF0ZSxcbiAgUGFydGljaXBhbnRQZXJtaXNzaW9uLFxuICBSb29tLFxuICBSb29tQ29tcG9zaXRlRWdyZXNzUmVxdWVzdCxcbiAgUm9vbUVncmVzcyxcbiAgUzNVcGxvYWQsXG4gIFNJUERpc3BhdGNoUnVsZUluZm8sXG4gIFNJUFBhcnRpY2lwYW50SW5mbyxcbiAgU0lQVHJ1bmtJbmZvLFxuICBTZWdtZW50ZWRGaWxlT3V0cHV0LFxuICBTZWdtZW50ZWRGaWxlUHJvdG9jb2wsXG4gIFN0cmVhbU91dHB1dCxcbiAgU3RyZWFtUHJvdG9jb2wsXG4gIFRyYWNrQ29tcG9zaXRlRWdyZXNzUmVxdWVzdCxcbiAgVHJhY2tFZ3Jlc3NSZXF1ZXN0LFxuICBUcmFja0luZm8sXG4gIFRyYWNrU291cmNlLFxuICBUcmFja1R5cGUsXG4gIFdlYkVncmVzc1JlcXVlc3QsXG4gIFZpZGVvQ29kZWNcbn0gZnJvbSBcIkBsaXZla2l0L3Byb3RvY29sXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9BY2Nlc3NUb2tlbi5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vQWdlbnREaXNwYXRjaENsaWVudC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vRWdyZXNzQ2xpZW50LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9ncmFudHMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0luZ3Jlc3NDbGllbnQuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL1Jvb21TZXJ2aWNlQ2xpZW50LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9TaXBDbGllbnQuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL1dlYmhvb2tSZWNlaXZlci5qc1wiO1xuZXhwb3J0IHtcbiAgQWxpT1NTVXBsb2FkLFxuICBBdWRpb0NvZGVjLFxuICBBdXRvUGFydGljaXBhbnRFZ3Jlc3MsXG4gIEF1dG9UcmFja0VncmVzcyxcbiAgQXp1cmVCbG9iVXBsb2FkLFxuICBEYXRhUGFja2V0X0tpbmQsXG4gIERpcmVjdEZpbGVPdXRwdXQsXG4gIEVncmVzc0luZm8sXG4gIEVncmVzc1N0YXR1cyxcbiAgRW5jb2RlZEZpbGVPdXRwdXQsXG4gIEVuY29kZWRGaWxlVHlwZSxcbiAgRW5jb2RpbmdPcHRpb25zLFxuICBFbmNvZGluZ09wdGlvbnNQcmVzZXQsXG4gIEdDUFVwbG9hZCxcbiAgSW1hZ2VDb2RlYyxcbiAgSW1hZ2VGaWxlU3VmZml4LFxuICBJbWFnZU91dHB1dCxcbiAgSW5ncmVzc0F1ZGlvRW5jb2RpbmdPcHRpb25zLFxuICBJbmdyZXNzQXVkaW9FbmNvZGluZ1ByZXNldCxcbiAgSW5ncmVzc0F1ZGlvT3B0aW9ucyxcbiAgSW5ncmVzc0luZm8sXG4gIEluZ3Jlc3NJbnB1dCxcbiAgSW5ncmVzc1N0YXRlLFxuICBJbmdyZXNzVmlkZW9FbmNvZGluZ09wdGlvbnMsXG4gIEluZ3Jlc3NWaWRlb0VuY29kaW5nUHJlc2V0LFxuICBJbmdyZXNzVmlkZW9PcHRpb25zLFxuICBQYXJ0aWNpcGFudEVncmVzc1JlcXVlc3QsXG4gIFBhcnRpY2lwYW50SW5mbyxcbiAgUGFydGljaXBhbnRJbmZvX1N0YXRlLFxuICBQYXJ0aWNpcGFudFBlcm1pc3Npb24sXG4gIFJvb20sXG4gIFJvb21Db21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LFxuICBSb29tRWdyZXNzLFxuICBTM1VwbG9hZCxcbiAgU0lQRGlzcGF0Y2hSdWxlSW5mbyxcbiAgU0lQUGFydGljaXBhbnRJbmZvLFxuICBTSVBUcnVua0luZm8sXG4gIFNlZ21lbnRlZEZpbGVPdXRwdXQsXG4gIFNlZ21lbnRlZEZpbGVQcm90b2NvbCxcbiAgU3RyZWFtT3V0cHV0LFxuICBTdHJlYW1Qcm90b2NvbCxcbiAgVHJhY2tDb21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LFxuICBUcmFja0VncmVzc1JlcXVlc3QsXG4gIFRyYWNrSW5mbyxcbiAgVHJhY2tTb3VyY2UsXG4gIFRyYWNrVHlwZSxcbiAgVmlkZW9Db2RlYyxcbiAgV2ViRWdyZXNzUmVxdWVzdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJBbGlPU1NVcGxvYWQiLCJBdWRpb0NvZGVjIiwiQXV0b1BhcnRpY2lwYW50RWdyZXNzIiwiQXV0b1RyYWNrRWdyZXNzIiwiQXp1cmVCbG9iVXBsb2FkIiwiRGF0YVBhY2tldF9LaW5kIiwiRGlyZWN0RmlsZU91dHB1dCIsIkVncmVzc0luZm8iLCJFZ3Jlc3NTdGF0dXMiLCJFbmNvZGVkRmlsZU91dHB1dCIsIkVuY29kZWRGaWxlVHlwZSIsIkVuY29kaW5nT3B0aW9ucyIsIkVuY29kaW5nT3B0aW9uc1ByZXNldCIsIkdDUFVwbG9hZCIsIkltYWdlQ29kZWMiLCJJbWFnZUZpbGVTdWZmaXgiLCJJbWFnZU91dHB1dCIsIkluZ3Jlc3NBdWRpb0VuY29kaW5nT3B0aW9ucyIsIkluZ3Jlc3NBdWRpb0VuY29kaW5nUHJlc2V0IiwiSW5ncmVzc0F1ZGlvT3B0aW9ucyIsIkluZ3Jlc3NJbmZvIiwiSW5ncmVzc0lucHV0IiwiSW5ncmVzc1N0YXRlIiwiSW5ncmVzc1ZpZGVvRW5jb2RpbmdPcHRpb25zIiwiSW5ncmVzc1ZpZGVvRW5jb2RpbmdQcmVzZXQiLCJJbmdyZXNzVmlkZW9PcHRpb25zIiwiUGFydGljaXBhbnRFZ3Jlc3NSZXF1ZXN0IiwiUGFydGljaXBhbnRJbmZvIiwiUGFydGljaXBhbnRJbmZvX1N0YXRlIiwiUGFydGljaXBhbnRQZXJtaXNzaW9uIiwiUm9vbSIsIlJvb21Db21wb3NpdGVFZ3Jlc3NSZXF1ZXN0IiwiUm9vbUVncmVzcyIsIlMzVXBsb2FkIiwiU0lQRGlzcGF0Y2hSdWxlSW5mbyIsIlNJUFBhcnRpY2lwYW50SW5mbyIsIlNJUFRydW5rSW5mbyIsIlNlZ21lbnRlZEZpbGVPdXRwdXQiLCJTZWdtZW50ZWRGaWxlUHJvdG9jb2wiLCJTdHJlYW1PdXRwdXQiLCJTdHJlYW1Qcm90b2NvbCIsIlRyYWNrQ29tcG9zaXRlRWdyZXNzUmVxdWVzdCIsIlRyYWNrRWdyZXNzUmVxdWVzdCIsIlRyYWNrSW5mbyIsIlRyYWNrU291cmNlIiwiVHJhY2tUeXBlIiwiV2ViRWdyZXNzUmVxdWVzdCIsIlZpZGVvQ29kZWMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/index.js\n");

/***/ })

};
;